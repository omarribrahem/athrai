<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© - Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</title>
    <!-- Ø¥Ø¶Ø§ÙØ© Font Awesome Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root {
            --glass-bg: rgba(255,255,255,0.18);
            --glass-border: rgba(255,255,255,0.4);
            --text-color: #1e293b;
            --highlight-color: #0ea5e9;
            --practice-color: #16a34a;
            --translation-color: #8b5cf6;
            --border-radius: 24px;
        }
        
        @keyframes gradientAnimation { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
        @keyframes floatSphere1 { 0%,100%{transform:translateY(0px) rotate(0deg) scale(1)} 50%{transform:translateY(-30px) rotate(180deg) scale(1.05)} }
        @keyframes floatSphere2 { 0%,100%{transform:translateX(0px) translateY(0px) rotate(0deg) scale(1)} 50%{transform:translateX(25px) translateY(-25px) rotate(-180deg) scale(0.95)} }
        @keyframes floatSphere3 { 0%,100%{transform:translateX(0px) translateY(0px) rotate(0deg) scale(1)} 50%{transform:translateX(-20px) translateY(35px) rotate(120deg) scale(1.08)} }
        @keyframes translate-glow {0%,100%{box-shadow:0 0 15px -5px rgba(139,92,246,0.4),inset 0 2px 0 rgba(255,255,255,0.4);}50%{box-shadow:0 0 25px 0px rgba(139,92,246,0.6),inset 0 2px 0 rgba(255,255,255,0.6);}}
        
        * { box-sizing:border-box; margin:0; padding:0; }
        html { font-size:16px; scroll-behavior:smooth; }
        body {
            font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
            background-color:#e0f2fe; color:var(--text-color); line-height:1.8;
            overflow-x:hidden; position:relative; direction:rtl;
            font-size:clamp(0.9rem,2.5vw,1.05rem); padding:20px clamp(10px,3vw,20px);
        }
        body[dir="ltr"] { direction:ltr; }
        
        .background-gradient, .floating-spheres { position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2; }
        .background-gradient { background:linear-gradient(135deg,#e0f2fe 0%,#bae6fd 25%,#fce7f3 75%,#fdf2f8 100%);background-size:400% 400%;animation:gradientAnimation 40s ease infinite;}
        .floating-spheres {z-index:-1;pointer-events:none;}
        .sphere {position:absolute;border-radius:50%;backdrop-filter:blur(20px);border:2px solid rgba(255,255,255,0.3);box-shadow:0 20px 60px rgba(14,165,233,0.3),inset 0 4px 0 rgba(255,255,255,0.4);}
        .sphere.large {width:clamp(120px,20vw,220px);height:clamp(120px,20vw,220px);top:8%;right:12%;background:radial-gradient(circle,#3b82f6,#1e3a8a);animation:floatSphere1 12s ease-in-out infinite;}
        .sphere.medium {width:clamp(80px,15vw,140px);height:clamp(80px,15vw,140px);bottom:20%;left:8%;background:radial-gradient(circle,#0ea5e9,#0369a1);animation:floatSphere2 9s ease-in-out infinite;}
        .sphere.small-1 {width:clamp(60px,12vw,95px);height:clamp(60px,12vw,95px);top:50%;right:8%;background:radial-gradient(circle,#06b6d4,#0e7490);animation:floatSphere3 6s ease-in-out infinite;}
        
        .translation-button {
            position:fixed;top:clamp(20px,5vw,30px);right:clamp(20px,5vw,30px);
            background:rgba(255,255,255,0.1);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);
            border:2px solid var(--glass-border);border-radius:50px;
            padding:clamp(8px,2vw,12px);cursor:pointer;z-index:1000;display:flex;align-items:center;justify-content:center;
            width:clamp(50px,12vw,60px);height:clamp(50px,12vw,60px);
            transition:all 0.4s cubic-bezier(0.25,0.8,0.25,1);
            box-shadow:0 8px 25px -10px rgba(0,0,0,0.2),inset 0 2px 0 rgba(255,255,255,0.5);
        }
        body[dir="ltr"] .translation-button {right:auto;left:clamp(20px,5vw,30px);}
        .translation-button:hover {
            width:auto;padding:clamp(8px,2vw,12px) clamp(16px,4vw,22px);
            border-color:var(--translation-color);background:rgba(139,92,246,0.1);transform:translateY(-3px);
            animation:translate-glow 2.5s infinite alternate;
        }
        .translation-button .icon-translate {width:28px;height:28px;flex-shrink:0;transition:transform 0.3s ease;}
        .translation-button:hover .icon-translate {transform:scale(0.9);}
        .translation-text {font-size:clamp(0.85rem,2.2vw,1rem);font-weight:600;color:var(--translation-color);white-space:nowrap;display:none;margin-left:10px;}
        body[dir="ltr"] .translation-text {margin-left:0;margin-right:10px;}
        .translation-button:hover .translation-text {display:block;}
        
        .main-content {max-width:1200px;margin:90px auto 0;padding:clamp(20px,5vw,40px) clamp(15px,4vw,20px);}
        .glassy-card {background:var(--glass-bg);border:2px solid var(--glass-border);border-radius:var(--border-radius);padding:clamp(20px,5vw,30px);margin-bottom:clamp(25px,5vw,35px);backdrop-filter:blur(25px);transition:all 0.4s ease;box-shadow:0 20px 50px rgba(0,0,0,0.1),inset 0 2px 0 rgba(255,255,255,0.5);}
        .glassy-card:hover {transform:translateY(-5px) scale(1.01);border-color:rgba(255,255,255,0.7);box-shadow:0 30px 70px rgba(0,0,0,0.15),inset 0 2px 0 rgba(255,255,255,0.6);}
        
        /* Video Player Styles - Ù…Ø¯Ù…Ø¬Ø© Ù…Ø¹ Ø§Ù„Ø¯ÙŠØ²Ø§ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ */
        .video-container {
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 2px solid var(--glass-border);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15), inset 0 2px 0 rgba(255,255,255,0.5);
            transition: all 0.4s ease;
            margin-bottom: clamp(25px,5vw,35px);
        }
        .video-container:hover {
            transform: translateY(-5px) scale(1.01);
            border-color: rgba(255,255,255,0.7);
        }
        
        .seek-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease-out;
            color: white;
            font-size: 3rem;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            z-index: 20;
        }
        .seek-overlay.active {
            opacity: 1;
        }
        
        .controls-container {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            z-index: 21;
        }
        
        .video-container:hover .controls-container,
        .video-container.paused .controls-container {
            opacity: 1;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            direction: ltr !important;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--highlight-color);
            border-radius: 3px;
            width: 0%;
            position: relative;
            transition: width 0.1s linear;
            direction: ltr !important;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: var(--highlight-color);
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(14,165,233,0.4);
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 2.75rem;
            height: 2.75rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .control-btn:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(14,165,233,0.3);
        }
        
        .volume-slider-container {
            position: relative;
            direction: ltr !important;
        }
        
        .volume-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 80px;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            outline: none;
            transition: opacity .2s;
            cursor: pointer;
            direction: ltr !important;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--highlight-color);
            border-radius: 50%;
            cursor: pointer;
            margin-top: -4px;
            box-shadow: 0 2px 8px rgba(14,165,233,0.4);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 14px;
            height: 14px;
            background: var(--highlight-color);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(14,165,233,0.4);
            border: none;
        }
        
        .settings-container {
            position: relative;
        }
        .speed-controls {
            position: absolute;
            bottom: 3.5rem;
            right: -1rem;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            border-radius: 1.25rem;
            padding: 0.5rem;
            display: none;
            flex-direction: column;
            gap: 0.5rem;
            width: 100px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        body[dir="ltr"] .speed-controls {
            right: auto;
            left: -1rem;
        }
        
        .speed-controls button {
            color: white;
            background: none;
            border: none;
            padding: 0.5rem;
            border-radius: 0.75rem;
            cursor: pointer;
            width: 100%;
            text-align: center;
            transition: background-color 0.2s ease;
        }
        .speed-controls button:hover, .speed-controls button.active {
            background: rgba(14,165,233,0.3);
        }
        
        .controls-left {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 1rem;
            width: 33.333%;
        }
        
        body[dir="ltr"] .controls-left {
            justify-content: flex-start;
        }
        
        .controls-center {
            display: flex;
            justify-content: center;
            width: 33.333%;
        }
        
        .controls-right {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 1rem;
            width: 33.333%;
        }
        
        body[dir="ltr"] .controls-right {
            justify-content: flex-end;
        }
        
        @media (max-width: 768px) {
            .controls-container {
                width: 98%;
                padding: 0.5rem 1rem;
            }
            .control-btn {
                width: 2.25rem;
                height: 2.25rem;
                font-size: 0.9rem;
            }
            .volume-slider {
                width: 60px;
            }
            .controls-left, .controls-center, .controls-right {
                width: auto;
                flex: 1;
            }
        }
        
        h1,h2,h3,h4 { color:#0f172a;text-shadow:0 2px 8px rgba(255,255,255,0.8);font-weight:700;}
        h1 { font-size:clamp(2rem,6vw,3.2rem);text-align:center;margin-bottom:clamp(20px,4vw,30px);color:#0c4a6e; }
        h2 { font-size:clamp(1.5rem,5vw,2.5rem);border-bottom:3px solid rgba(14,165,233,0.3);padding-bottom:clamp(10px,2vw,15px);margin-bottom:clamp(20px,4vw,30px);}
        h3 { font-size:clamp(1.2rem,4vw,1.8rem);color:#334155;margin-bottom:clamp(15px,3vw,20px);}
        h4 { font-size:clamp(1.1rem,3.5vw,1.4rem);color:var(--highlight-color);margin-bottom:clamp(12px,2vw,15px);}
        p,li { color:#475569;margin-bottom:clamp(10px,2vw,12px);}
        strong {color:#1e3a8a;}
        .formula { background:rgba(255,255,255,0.4); padding:clamp(15px,3vw,20px);border-radius:14px;font-family:monospace;border:1px solid rgba(255,255,255,0.3);backdrop-filter:blur(10px);margin:20px 0;text-align:center;font-size:clamp(1rem,3vw,1.3rem);}
        ul,ol { padding-right:clamp(20px,4vw,25px);margin-bottom:20px;}
        body[dir="ltr"] ul,body[dir="ltr"] ol {padding-right:0;padding-left:clamp(20px,4vw,25px);}
        
        .case-study { border-right:4px solid var(--highlight-color);padding-right:20px;margin:25px 0;}
        body[dir="ltr"] .case-study {border-right:none;border-left:4px solid var(--highlight-color);padding-right:0;padding-left:20px;}
        .practice-question {
            background:rgba(22,163,74,0.08); border:2px solid rgba(22,163,74,0.2);
            border-radius:18px; padding:25px; margin-top:20px;
            cursor: pointer; position: relative;
            transition: all 0.4s ease;
        }
        .practice-question:hover {
            transform: translateY(-3px);
            border-color: var(--practice-color);
            background: rgba(22,163,74,0.12);
        }
        .practice-question.open {
             border-color: var(--practice-color);
        }
        .practice-question::after {
            content: 'â·';
            position: absolute;
            top: 25px;
            left: 25px;
            font-size: 1.2rem;
            color: var(--practice-color);
            transition: transform 0.4s ease;
        }
        body[dir="ltr"] .practice-question::after {
            left: auto;
            right: 25px;
        }
        .practice-question.open::after {
            transform: rotate(180deg);
        }
        .solution-card { max-height:0; overflow:hidden; transition:max-height 0.7s ease-in-out,margin-top 0.5s ease;}
        .solution-card.show { max-height:500px;margin-top:20px;}
        .solution-content { background:rgba(255,255,255,0.3); border:1px solid rgba(255,255,255,0.4); padding:20px; border-radius:14px; }
        .solution-content strong { color:#15803d;}
        .hidden { display:none; }
    </style>
</head>
<body>
    <div class="background-gradient"></div>
    <div class="floating-spheres">
        <div class="sphere large"></div>
        <div class="sphere medium"></div>
        <div class="sphere small-1"></div>
    </div>
    <button class="translation-button" id="translationButton">
        <svg class="icon-translate" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25C9.36657 2.25 6.94277 3.22321 5.16629 4.83371M12.75 2.25V7.5M12.75 7.5H18M12.75 7.5L5.16629 4.83371M11.25 21.75V16.5M11.25 16.5H6M11.25 16.5L18.8337 19.1663M5.16629 4.83371C3.22321 6.94277 2.25 9.36657 2.25 12M2.25 12C2.25 14.6334 3.22321 17.0572 4.83371 18.8337M18.8337 19.1663C20.7768 17.0572 21.75 14.6334 21.75 12M18.8337 4.83371C17.0572 3.22321 14.6334 2.25 12 2.25" stroke="#8b5cf6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span class="translation-text">ØªØ±Ø¬Ù…Ø©</span>
    </button>
    
    <main class="main-content">
        <div id="arabicContent">
            <section class="glassy-card">
                <h1>Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© - Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</h1>
            </section>
            
            <!-- ÙÙŠØ¯ÙŠÙˆ Ø¨Ù„Ø§ÙŠØ± Ù…Ø¹ Ø±Ø§Ø¨Ø· Internet Archive -->
            <section class="glassy-card">
                <h2>ğŸ¥ Ø´Ø±Ø­ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</h2>
                <div id="videoPlayer" class="video-container">
                    <video id="video" style="width: 100%; height: auto; min-height: 300px;" crossOrigin="anonymous">
                        <!-- Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ù† Internet Archive -->
                        <source src="https://archive.org/download/20250916_20250916_0112/%D9%84%D8%BA%D8%A9_%D8%A7%D9%84%D8%A3%D8%B9%D9%85%D8%A7%D9%84__%D9%85%D9%82%D8%AF%D9%85%D8%A9_%D9%84%D9%84%D9%85%D8%AD%D8%A7%D8%B3%D8%A8%D8%A9.mp4" type="video/mp4">
                        Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ. 
                        <a href="https://archive.org/details/20250916_20250916_0112" target="_blank">Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ Internet Archive</a>
                    </video>
                    <div id="seekOverlay" class="seek-overlay"></div>
                    <div class="controls-container">
                        <div class="progress-bar-container" id="progressBarContainer" style="margin-bottom: 0.75rem;">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                        
                        <div style="display: flex; align-items: center; justify-content: space-between; color: white;">
                            <div class="controls-left">
                                <button id="playPauseBtn" class="control-btn" aria-label="ØªØ´ØºÙŠÙ„"><i class="fas fa-play"></i></button>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                     <button id="volumeBtn" class="control-btn" aria-label="ÙƒØªÙ… Ø§Ù„ØµÙˆØª"><i class="fas fa-volume-up"></i></button>
                                     <div class="volume-slider-container">
                                        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="1" aria-label="Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª">
                                     </div>
                                </div>
                            </div>
                            <div class="controls-center">
                                <span id="currentTime">00:00</span> / <span id="duration">00:00</span>
                            </div>
                            <div class="controls-right">
                                <div class="settings-container">
                                    <button id="settingsBtn" class="control-btn" aria-label="Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"><i class="fas fa-cog"></i></button>
                                    <div id="speedControls" class="speed-controls">
                                        <button data-speed="0.5">0.5x</button>
                                        <button data-speed="0.75">0.75x</button>
                                        <button data-speed="1" class="active">Ø¹Ø§Ø¯ÙŠ</button>
                                        <button data-speed="1.5">1.5x</button>
                                        <button data-speed="2">2x</button>
                                    </div>
                                </div>
                                <button id="fullscreenBtn" class="control-btn" aria-label="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©"><i class="fas fa-expand"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="glassy-card">
                <h2>Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠØ©</h2>
                <p>Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ØªØ±ÙƒØ² Ø¹Ù„Ù‰ ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ÙƒØ¹Ù„Ù… ÙˆØ¸ÙŠÙÙŠ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ¯ ÙˆØªØ³Ø¬ÙŠÙ„ ÙˆØªØ¨Ù„ÙŠØº Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ù†Ø´Ø¢Øª Ø¨Ù‡Ø¯Ù Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø³Ù„ÙŠÙ…. ÙŠØ´Ø±Ø­ Ù…Ø­ØªÙˆØ§Ù‡Ø§ Ù…ÙÙ‡ÙˆÙ… Ø§Ù„ÙƒÙŠØ§Ù† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØŒ ÙˆÙƒÙŠÙÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø«Ù… ØªÙˆØ¶ÙŠØ­ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ ØªØ±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ø£ØµÙˆÙ„ ÙˆØ§Ù„Ø®ØµÙˆÙ… ÙˆØ­Ù‚ÙˆÙ‚ Ø§Ù„Ù…ÙÙ„Ø§Ùƒ. ÙƒØ°Ù„Ùƒ ØªÙˆØ¶Ø­ Ø¹Ø¯Ø¯Ù‹Ø§ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¯Ø§Ø®Ù„ ÙˆØ®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø¤Ø³Ø³Ø©ØŒ Ù…Ø¹ Ø´Ø±Ø­ Ù„Ø£Ø¯ÙˆØ§Ø± ÙƒÙ„ Ø·Ø±Ù ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ.</p>
            </section>
            
            <section class="glassy-card">
                <h2>Ø£Ù‡Ù… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙˆØ§Ù„Ù…ÙØ§Ù‡ÙŠÙ…</h2>
                <ul>
                    <li>Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ù‡ÙŠ Ù†Ø¸Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙŠÙØ­Ø¯Ø¯ ÙˆÙŠÙØ³Ø¬Ù„ ÙˆÙŠÙØ¨Ù„Øº Ø¹Ù† Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù„ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ù…Ù† Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª.</li>
                    <li>Ø£ÙŠ Ø­Ø¯Ø« Ù…Ø§Ù„ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙŠØ§Ù† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠ ÙˆÙŠÙÙ‚Ø§Ø³ Ø¨Ø§Ù„Ù†Ù‚ÙˆØ¯ Ø­ØªÙ‰ ÙŠÙØ³Ø¬Ù„ ÙÙŠ Ø§Ù„Ø¯ÙØ§ØªØ±.</li>
                    <li>Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</li>
                </ul>
                <div class="formula">Ø§Ù„Ø£ØµÙˆÙ„ = Ø§Ù„Ø®ØµÙˆÙ… + Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©</div>
                <p>Ø­ÙŠØ« ØªÙÙˆØ¶Ø­ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù…Ø§ ØªÙ…ØªÙ„ÙƒÙ‡ Ø§Ù„Ù…Ù†Ø´Ø£Ø© ÙˆÙ…Ù† Ù„Ù‡ Ø­Ù‚ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯.</p>
                <ul>
                    <li>Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©: Ø§Ù„ØªØ­Ø¯ÙŠØ¯ (Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø§Ù„ÙŠØ©)ØŒ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (ØªØ³Ø¬ÙŠÙ„ ÙˆØªÙ„Ø®ÙŠØµ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª)ØŒ Ø§Ù„Ø§ØªØµØ§Ù„ (ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†).</li>
                    <li>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠÙˆÙ†: Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©ØŒ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ØŒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠÙˆÙ†: Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ÙˆÙ† ÙˆØ§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ† ÙˆØ§Ù„Ù‡ÙŠØ¦Ø§Øª Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù†Ù‚Ø§Ø¨Ø§Øª ÙˆØ³ÙˆÙ‚ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ù…Ø§Ù„ÙŠØ©.</li>
                </ul>
            </section>
            
            <section class="glassy-card">
                <h2>Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ³Ø§Ø­Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h2>
                <div class="case-study">
                    <h3>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (1): ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù…Ø§Ù„ÙŠ</h3>
                    <div class="practice-question">
                        <h4>Ø³Ø§Ø­Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h4>
                        <p><strong>ØªÙ…Ø±ÙŠÙ† Ù…Ø­Ø§ÙƒØ§Ø©:</strong> Ù…Ù†Ø´Ø£Ø© Ø¨Ø§Ø¹Øª Ø³Ù„Ø¹ Ø¨Ù‚ÙŠÙ…Ø© 1000 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ Ù†Ù‚Ø¯Ù‹Ø§. Ù‡Ù„ ÙŠÙØ³Ø¬Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¯Ø«ØŸ ÙˆÙ„Ù…Ø§Ø°Ø§ØŸ</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-content">
                            <p><strong>Ù†Ø¹Ù…ØŒ ÙŠÙØ³Ø¬Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¯Ø«.</strong></p>
                            <ul>
                                <li><strong>Ø§Ù„Ø£Ø«Ø± Ø§Ù„Ù…Ø§Ù„ÙŠ:</strong> Ø²Ø§Ø¯Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© (Ø£ØµÙ„) ÙˆØ²Ø§Ø¯Øª Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ø­Ù‚ÙˆÙ‚ Ù…Ù„ÙƒÙŠØ©).</li>
                                <li><strong>Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ø³:</strong> Ø§Ù„Ø­Ø¯Ø« Ù…ÙÙ‚Ø§Ø³ Ø¨Ø§Ù„Ù†Ù‚ÙˆØ¯ (1000 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ).</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="case-study">
                    <h3>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (2): Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                    <div class="practice-question">
                        <h4>Ø³Ø§Ø­Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h4>
                        <p><strong>ØªÙ…Ø±ÙŠÙ† Ù…Ø­Ø§ÙƒØ§Ø©:</strong> Ø¥Ø°Ø§ Ø§Ø´ØªØ±Øª Ø§Ù„Ø´Ø±ÙƒØ© Ø£Ø¬Ù‡Ø²Ø© ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø¨Ù‚ÙŠÙ…Ø© 20,000 Ø¬Ù†ÙŠÙ‡ ÙˆØªÙ… Ø¯ÙØ¹ Ù†ØµÙ Ø§Ù„Ù…Ø¨Ù„Øº Ù†Ù‚Ø¯Ù‹Ø§ ÙˆØ§Ù„Ù†ØµÙ Ø§Ù„Ø¢Ø®Ø± Ø¯ÙÙŠÙ†ØŒ Ù…Ø§ Ø£Ø«Ø± Ø°Ù„Ùƒ Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©ØŸ</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-content">
                            <p><strong>Ø§Ù„Ø£Ø«Ø± Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©:</strong></p>
                            <ul>
                                <li><strong>Ø§Ù„Ø£ØµÙˆÙ„:</strong> Ø²Ø§Ø¯Øª Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø¨Ù…Ù‚Ø¯Ø§Ø± 20,000 Ø¬Ù†ÙŠÙ‡ØŒ ÙˆÙ†Ù‚ØµØª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ù…Ù‚Ø¯Ø§Ø± 10,000 Ø¬Ù†ÙŠÙ‡. <strong>(ØµØ§ÙÙŠ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø£ØµÙˆÙ„: 10,000)</strong></li>
                                <li><strong>Ø§Ù„Ø®ØµÙˆÙ…:</strong> Ø²Ø§Ø¯Øª Ø§Ù„Ø¯ÙŠÙˆÙ† (Ø§Ù„Ø¯Ø§Ø¦Ù†ÙˆÙ†) Ø¨Ù…Ù‚Ø¯Ø§Ø± 10,000 Ø¬Ù†ÙŠÙ‡.</li>
                                <li><strong>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù…ØªÙˆØ§Ø²Ù†Ø©:</strong> Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø£ØµÙˆÙ„ (10,000) = Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø®ØµÙˆÙ… (10,000).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- English Content -->
        <div id="englishContent" class="hidden">
            <section class="glassy-card">
                <h1>Accounting Principles - First Lecture</h1>
            </section>
            
            <section class="glassy-card">
                <h2>ğŸ¥ Video Lecture</h2>
                <div id="videoPlayerEn" class="video-container">
                    <video id="videoEn" style="width: 100%; height: auto; min-height: 300px;" crossOrigin="anonymous">
                        <source src="https://archive.org/download/20250916_20250916_0112/%D9%84%D8%BA%D8%A9_%D8%A7%D9%84%D8%A3%D8%B9%D9%85%D8%A7%D9%84__%D9%85%D9%82%D8%AF%D9%85%D8%A9_%D9%84%D9%84%D9%85%D8%AD%D8%A7%D8%B3%D8%A8%D8%A9.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                        <a href="https://archive.org/details/20250916_20250916_0112" target="_blank">Watch video on Internet Archive</a>
                    </video>
                    <div id="seekOverlayEn" class="seek-overlay"></div>
                    <div class="controls-container">
                        <div class="progress-bar-container" id="progressBarContainerEn" style="margin-bottom: 0.75rem;">
                            <div class="progress-bar" id="progressBarEn"></div>
                        </div>
                        
                        <div style="display: flex; align-items: center; justify-content: space-between; color: white;">
                            <div class="controls-left">
                                <button id="playPauseBtnEn" class="control-btn" aria-label="Play"><i class="fas fa-play"></i></button>
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                     <button id="volumeBtnEn" class="control-btn" aria-label="Mute"><i class="fas fa-volume-up"></i></button>
                                     <div class="volume-slider-container">
                                        <input type="range" id="volumeSliderEn" class="volume-slider" min="0" max="1" step="0.01" value="1" aria-label="Volume">
                                     </div>
                                </div>
                            </div>
                            <div class="controls-center">
                                <span id="currentTimeEn">00:00</span> / <span id="durationEn">00:00</span>
                            </div>
                            <div class="controls-right">
                                <div class="settings-container">
                                    <button id="settingsBtnEn" class="control-btn" aria-label="Settings"><i class="fas fa-cog"></i></button>
                                    <div id="speedControlsEn" class="speed-controls">
                                        <button data-speed="0.5">0.5x</button>
                                        <button data-speed="0.75">0.75x</button>
                                        <button data-speed="1" class="active">Normal</button>
                                        <button data-speed="1.5">1.5x</button>
                                        <button data-speed="2">2x</button>
                                    </div>
                                </div>
                                <button id="fullscreenBtnEn" class="control-btn" aria-label="Fullscreen"><i class="fas fa-expand"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="glassy-card">
                <h2>Executive Summary</h2>
                <p>The first lecture in accounting principles focuses on defining accounting as a functional science that relies on identifying, recording, and reporting financial events of organizations for the purpose of making sound decisions. Its content explains the concept of economic entity, how to record financial transactions, then clarifies the fundamental accounting equation that links assets, liabilities, and owners' equity. It also illustrates several groups that rely on financial reports inside and outside the organization, with an explanation of each party's roles in the accounting system.</p>
            </section>
            
            <section class="glassy-card">
                <h2>Key Rules and Concepts</h2>
                <ul>
                    <li>Accounting is an information system that identifies, records, and reports financial events to enable users to make decisions.</li>
                    <li>Any financial event must affect the economic entity and be measurable in monetary terms to be recorded in the books.</li>
                    <li>The fundamental accounting equation:</li>
                </ul>
                <div class="formula">Assets = Liabilities + Owner's Equity</div>
                <p>This relationship shows what the organization owns and who has the right to claim these resources.</p>
                <ul>
                    <li>Accounting activities: Identification (selecting financial events), Recording (recording and summarizing information), Communication (presenting financial reports to users).</li>
                    <li>Internal users: Management, Production, Marketing, Finance. External users: Investors, creditors, tax authorities, customers, unions, and stock markets.</li>
                </ul>
            </section>
            
            <section class="glassy-card">
                <h2>Case Library and Practice Arena</h2>
                <div class="case-study">
                    <h3>Practical Case (1): Defining Financial Events</h3>
                    <div class="practice-question">
                        <h4>Practice Arena</h4>
                        <p><strong>Simulation Exercise:</strong> An organization sold goods worth 1,000 Egyptian pounds in cash. Should this event be recorded? Why?</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-content">
                            <p><strong>Yes, this event should be recorded.</strong></p>
                            <ul>
                                <li><strong>Financial Impact:</strong> Cash (an asset) increased, and Revenue (owner's equity) increased.</li>
                                <li><strong>Measurability:</strong> The event is measured in money (1,000 EGP).</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="case-study">
                    <h3>Practical Case (2): The Basic Accounting Equation</h3>
                    <div class="practice-question">
                        <h4>Practice Arena</h4>
                        <p><strong>Simulation Exercise:</strong> If the company purchased computers worth 20,000 pounds and paid half the amount in cash and the other half on credit, what is the effect on the accounting equation?</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-content">
                            <p><strong>Effect on the Accounting Equation:</strong></p>
                            <ul>
                                <li><strong>Assets:</strong> Computers increased by 20,000 EGP, and Cash decreased by 10,000 EGP. <strong>(Net Asset Increase: 10,000)</strong></li>
                                <li><strong>Liabilities:</strong> Debt (Accounts Payable) increased by 10,000 EGP.</li>
                                <li><strong>The Equation Balances:</strong> Increase in Assets (10,000) = Increase in Liabilities (10,000).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const translationButton = document.getElementById('translationButton');
            const translationText = translationButton.querySelector('.translation-text');
            const arabicContent = document.getElementById('arabicContent');
            const englishContent = document.getElementById('englishContent');
            const html = document.documentElement;
            const body = document.body;
            let isArabic = true;
            
            // Video Player Elements
            const videoPlayer = document.getElementById('videoPlayer');
            const video = document.getElementById('video');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const progressBarContainer = document.getElementById('progressBarContainer');
            const progressBar = document.getElementById('progressBar');
            const currentTimeEl = document.getElementById('currentTime');
            const durationEl = document.getElementById('duration');
            const volumeBtn = document.getElementById('volumeBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const settingsBtn = document.getElementById('settingsBtn');
            const speedControls = document.getElementById('speedControls');
            const seekOverlay = document.getElementById('seekOverlay');
            
            // English Video Player Elements
            const videoPlayerEn = document.getElementById('videoPlayerEn');
            const videoEn = document.getElementById('videoEn');
            const playPauseBtnEn = document.getElementById('playPauseBtnEn');
            const progressBarContainerEn = document.getElementById('progressBarContainerEn');
            const progressBarEn = document.getElementById('progressBarEn');
            const currentTimeElEn = document.getElementById('currentTimeEn');
            const durationElEn = document.getElementById('durationEn');
            const volumeBtnEn = document.getElementById('volumeBtnEn');
            const volumeSliderEn = document.getElementById('volumeSliderEn');
            const fullscreenBtnEn = document.getElementById('fullscreenBtnEn');
            const settingsBtnEn = document.getElementById('settingsBtnEn');
            const speedControlsEn = document.getElementById('speedControlsEn');
            const seekOverlayEn = document.getElementById('seekOverlayEn');
            
            let lastTap = 0;
            let timeout;
            
            function createVideoPlayer(videoEl, containerEl, controls) {
                if (!videoEl || !containerEl || !controls) return;

                const { playPauseBtn, progressBarContainer, progressBar, currentTimeEl, durationEl, 
                        volumeBtn, volumeSlider, fullscreenBtn, settingsBtn, speedControls, seekOverlay } = controls;

                function togglePlay() {
                    if (videoEl.paused) {
                        videoEl.play();
                    } else {
                        videoEl.pause();
                    }
                }
                
                videoEl.addEventListener('play', () => {
                    playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    playPauseBtn.setAttribute('aria-label', isArabic ? 'Ø¥ÙŠÙ‚Ø§Ù' : 'Pause');
                    containerEl.classList.remove('paused');
                });
                
                videoEl.addEventListener('pause', () => {
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                    playPauseBtn.setAttribute('aria-label', isArabic ? 'ØªØ´ØºÙŠÙ„' : 'Play');
                    containerEl.classList.add('paused');
                });
                
                videoEl.addEventListener('timeupdate', () => {
                    const progress = (videoEl.currentTime / videoEl.duration) * 100;
                    progressBar.style.width = `${progress}%`;
                    currentTimeEl.textContent = formatTime(videoEl.currentTime);
                });
                
                videoEl.addEventListener('loadedmetadata', () => {
                    durationEl.textContent = formatTime(videoEl.duration);
                    containerEl.classList.add('paused');
                });
                
                playPauseBtn.addEventListener('click', togglePlay);
                
                progressBarContainer.addEventListener('click', (e) => {
                    const rect = progressBarContainer.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const width = rect.width;
                    const seekPercent = clickX / width;
                    videoEl.currentTime = seekPercent * videoEl.duration;
                });
                
                function updateVolumeIcon() {
                    const volume = videoEl.volume;
                    if (videoEl.muted || volume === 0) {
                        volumeBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                        volumeBtn.setAttribute('aria-label', isArabic ? 'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙƒØªÙ…' : 'Unmute');
                    } else if (volume < 0.5) {
                        volumeBtn.innerHTML = '<i class="fas fa-volume-down"></i>';
                        volumeBtn.setAttribute('aria-label', isArabic ? 'ÙƒØªÙ… Ø§Ù„ØµÙˆØª' : 'Mute');
                    } else {
                        volumeBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                        volumeBtn.setAttribute('aria-label', isArabic ? 'ÙƒØªÙ… Ø§Ù„ØµÙˆØª' : 'Mute');
                    }
                }
                
                function handleVolumeChange() {
                     videoEl.volume = volumeSlider.value;
                     videoEl.muted = volumeSlider.value == 0;
                     updateVolumeIcon();
                }
                
                volumeSlider.addEventListener('input', handleVolumeChange);
                
                function toggleMute() {
                    videoEl.muted = !videoEl.muted;
                    if (videoEl.muted) {
                        volumeSlider.setAttribute('data-volume', volumeSlider.value);
                        volumeSlider.value = 0;
                    } else {
                        volumeSlider.value = volumeSlider.getAttribute('data-volume') || 1;
                    }
                    handleVolumeChange();
                }
                
                volumeBtn.addEventListener('click', toggleMute);
                
                function toggleFullscreen() {
                     if (!document.fullscreenElement) {
                        containerEl.requestFullscreen().catch(err => {
                            console.error(`Error: ${err.message}`);
                        });
                    } else {
                        document.exitFullscreen();
                    }
                }
                
                fullscreenBtn.addEventListener('click', toggleFullscreen);
                
                settingsBtn.addEventListener('click', () => {
                    speedControls.style.display = speedControls.style.display === 'flex' ? 'none' : 'flex';
                });
                
                speedControls.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        const speed = e.target.getAttribute('data-speed');
                        videoEl.playbackRate = speed;
                        speedControls.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        speedControls.style.display = 'none';
                    }
                });
                
                videoEl.addEventListener('touchend', (e) => {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;
                    clearTimeout(timeout);
                    if (tapLength < 500 && tapLength > 0) {
                        const rect = videoEl.getBoundingClientRect();
                        const tapX = e.changedTouches[0].clientX - rect.left;
                        if (tapX > rect.width / 2) {
                            videoEl.currentTime += 10;
                            showSeekAnimation('<i class="fas fa-forward"></i>', seekOverlay);
                        } else {
                            videoEl.currentTime -= 10;
                            showSeekAnimation('<i class="fas fa-backward"></i>', seekOverlay);
                        }
                    } else {
                        timeout = setTimeout(() => {
                            togglePlay();
                        }, 500);
                    }
                    lastTap = currentTime;
                });
                
                updateVolumeIcon();
            }
            
            if (video && videoPlayer) {
                createVideoPlayer(video, videoPlayer, {
                    playPauseBtn, progressBarContainer, progressBar, currentTimeEl, durationEl,
                    volumeBtn, volumeSlider, fullscreenBtn, settingsBtn, speedControls, seekOverlay
                });
            }
            
            if (videoEn && videoPlayerEn) {
                createVideoPlayer(videoEn, videoPlayerEn, {
                    playPauseBtn: playPauseBtnEn, progressBarContainer: progressBarContainerEn, 
                    progressBar: progressBarEn, currentTimeEl: currentTimeElEn, durationEl: durationElEn,
                    volumeBtn: volumeBtnEn, volumeSlider: volumeSliderEn, fullscreenBtn: fullscreenBtnEn, 
                    settingsBtn: settingsBtnEn, speedControls: speedControlsEn, seekOverlay: seekOverlayEn
                });
            }
            
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            
            function showSeekAnimation(icon, overlayElement) {
                overlayElement.innerHTML = icon;
                overlayElement.classList.add('active');
                setTimeout(() => {
                    overlayElement.classList.remove('active');
                }, 500);
            }
            
            document.addEventListener('fullscreenchange', () => {
                const isFullscreen = document.fullscreenElement;
                
                if (fullscreenBtn) {
                    fullscreenBtn.innerHTML = isFullscreen ? '<i class="fas fa-compress"></i>' : '<i class="fas fa-expand"></i>';
                    fullscreenBtn.setAttribute('aria-label', isFullscreen ? (isArabic ? 'Ø®Ø±ÙˆØ¬ Ù…Ù† Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©' : 'Exit Fullscreen') : (isArabic ? 'Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©' : 'Enter Fullscreen'));
                }
                
                if (fullscreenBtnEn) {
                    fullscreenBtnEn.innerHTML = isFullscreen ? '<i class="fas fa-compress"></i>' : '<i class="fas fa-expand"></i>';
                    fullscreenBtnEn.setAttribute('aria-label', isFullscreen ? (isArabic ? 'Ø®Ø±ÙˆØ¬ Ù…Ù† Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©' : 'Exit Fullscreen') : (isArabic ? 'Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©' : 'Enter Fullscreen'));
                }
            });
            
            document.addEventListener('keydown', e => {
                const tagName = document.activeElement.tagName.toLowerCase();
                if (tagName === 'input') return;
                
                const currentVideo = isArabic ? video : videoEn;
                const currentVolumeSlider = isArabic ? volumeSlider : volumeSliderEn;
                
                if (!currentVideo) return;
                
                switch(e.key.toLowerCase()) {
                    case ' ':
                    case 'k':
                        e.preventDefault();
                        if (currentVideo.paused) {
                            currentVideo.play();
                        } else {
                            currentVideo.pause();
                        }
                        break;
                    case 'm':
                        currentVideo.muted = !currentVideo.muted;
                        break;
                    case 'f':
                        const currentContainer = isArabic ? videoPlayer : videoPlayerEn;
                        if (!document.fullscreenElement) {
                            currentContainer.requestFullscreen();
                        } else {
                            document.exitFullscreen();
                        }
                        break;
                    case 'arrowleft':
                        currentVideo.currentTime -= 5;
                        break;
                    case 'arrowright':
                        currentVideo.currentTime += 5;
                        break;
                    case 'arrowup':
                        e.preventDefault();
                        currentVolumeSlider.value = Math.min(1, parseFloat(currentVolumeSlider.value) + 0.1);
                        currentVolumeSlider.dispatchEvent(new Event('input'));
                        break;
                    case 'arrowdown':
                        e.preventDefault();
                        currentVolumeSlider.value = Math.max(0, parseFloat(currentVolumeSlider.value) - 0.1);
                        currentVolumeSlider.dispatchEvent(new Event('input'));
                        break;
                }
            });
            
            translationButton.addEventListener('click', () => {
                isArabic = !isArabic;
                if (isArabic) {
                    html.lang = 'ar'; body.dir = 'rtl';
                    arabicContent.classList.remove('hidden');
                    englishContent.classList.add('hidden');
                    translationText.textContent = 'ØªØ±Ø¬Ù…Ø©';
                    document.title = 'Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© - Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰';
                } else {
                    html.lang = 'en'; body.dir = 'ltr';
                    arabicContent.classList.add('hidden');
                    englishContent.classList.remove('hidden');
                    translationText.textContent = 'Translate';
                    document.title = 'Accounting Principles - First Lecture';
                }
                
                if (video && !video.paused) {
                    video.pause();
                }
                if (videoEn && !videoEn.paused) {
                    videoEn.pause();
                }
            });
            
            document.querySelectorAll('.practice-question').forEach(question => {
                question.addEventListener('click', () => {
                    const solutionCard = question.nextElementSibling;
                    question.classList.toggle('open');
                    solutionCard.classList.toggle('show');
                });
            });
        });
    </script>
</body>
</html>
