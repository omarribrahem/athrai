<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>منصة أثر التعليمية</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Marked.js for Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  
  <style>
    :root {
      --color-primary: #16a34a;
      --color-primary-dark: #4d7c0f;
      --color-primary-medium: #22c55e;
      --color-ai: #f59e0b;
      --glass-bg: rgba(240, 253, 244, 0.25);
      --glass-border: rgba(255, 255, 255, 0.4);
      --text-color: #0f172a;
      --border-radius: 24px;
      --font-arabic: 'IBM Plex Sans Arabic', 'Cairo', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-english: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    /* Animations */
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    @keyframes waveFlow {
      0%, 100% { transform: translateX(-25%) scaleY(1) scaleX(1); }
      33% { transform: translateX(-10%) scaleY(1.1) scaleX(0.9); }
      66% { transform: translateX(10%) scaleY(0.9) scaleX(1.1); }
    }
    @keyframes translate-glow {
      0%, 100% { box-shadow: 0 0 15px -5px rgba(77, 124, 15, 0.4), inset 0 2px 0 rgba(255,255,255,0.4); }
      50% { box-shadow: 0 0 25px 0px rgba(77, 124, 15, 0.6), inset 0 2px 0 rgba(255,255,255,0.6); }
    }
    @keyframes ai-glow {
      0%, 100% { box-shadow: 0 0 15px -5px rgba(245, 158, 11, 0.4), inset 0 2px 0 rgba(255,255,255,0.4); }
      50% { box-shadow: 0 0 25px 0px rgba(245, 158, 11, 0.6), inset 0 2px 0 rgba(255,255,255,0.6); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes typing {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    @keyframes typingDots {
      0%, 20% { opacity: 0; }
      40% { opacity: 1; }
      60%, 100% { opacity: 0; }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { 
      font-size: clamp(0.9rem, 2.5vw, 1.05rem); 
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    body {
      font-family: var(--font-arabic);
      background: #f0fdf4;
      color: var(--text-color);
      line-height: 1.8;
      overflow-x: hidden;
      direction: rtl;
      padding: clamp(10px, 3vw, 20px);
      font-weight: 400;
    }
    body[dir="ltr"] { 
      direction: ltr; 
      font-family: var(--font-english);
    }

    /* Background Waves */
    .background-waves {
      position: fixed; inset: 0; z-index: -2;
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 25%, #fefce8 50%, #ecfccb 75%, #f0fdf4 100%);
      background-size: 400% 400%;
      animation: gradientShift 20s ease infinite;
    }
    .wave-layer {
      position: absolute; bottom: -10%; left: -10%; width: 120%; height: 300px;
      background: linear-gradient(90deg, rgba(22,163,74,0.08), rgba(77,124,15,0.08), rgba(34,197,94,0.08));
      border-radius: 60% 40% 0 0;
      animation: waveFlow 15s ease-in-out infinite;
    }
    .wave-layer:nth-child(2) {
      bottom: -5%; height: 250px; animation-delay: -5s;
      background: linear-gradient(90deg, rgba(77,124,15,0.06), rgba(34,197,94,0.06));
      border-radius: 40% 60% 0 0;
    }
    .wave-layer:nth-child(3) {
      bottom: 0%; height: 200px; animation-delay: -10s;
      background: linear-gradient(90deg, rgba(34,197,94,0.04), rgba(22,163,74,0.04));
      border-radius: 80% 20% 0 0;
    }

    /* Translation Button */
    .translation-button {
      position: fixed; top: clamp(20px, 5vw, 30px); right: clamp(20px, 5vw, 30px);
      background: rgba(255,255,255,0.15); backdrop-filter: blur(30px);
      border: 2px solid var(--glass-border); border-radius: 50px;
      padding: clamp(8px, 2vw, 12px); cursor: pointer; z-index: 1000;
      width: clamp(50px, 12vw, 60px); height: clamp(50px, 12vw, 60px);
      display: flex; align-items: center; justify-content: center;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      box-shadow: 0 8px 25px -10px rgba(0,0,0,0.2), inset 0 2px 0 rgba(255,255,255,0.6);
    }
    .translation-button svg { width: 28px; height: 28px; flex-shrink: 0; transition: transform 0.3s ease; }
    .translation-button svg path, .translation-button svg circle { stroke: var(--color-primary-dark); }
    body[dir="ltr"] .translation-button { right: auto; left: clamp(20px, 5vw, 30px); }
    .translation-button:hover {
      width: auto; padding: clamp(8px, 2vw, 12px) clamp(16px, 4vw, 22px);
      border-color: var(--color-primary-dark);
      background: rgba(77, 124, 15, 0.15);
      transform: translateY(-3px);
      animation: translate-glow 2.5s infinite alternate;
    }
    .translation-button:hover svg { transform: scale(0.9); }
    .translation-text {
      font-size: clamp(0.85rem, 2.2vw, 1rem); 
      font-weight: 600;
      color: var(--color-primary-dark); 
      white-space: nowrap;
      display: none; 
      margin-left: 10px;
    }
    body[dir="ltr"] .translation-text { margin-left: 0; margin-right: 10px; }
    .translation-button:hover .translation-text { display: block; }

    /* AI FAB Button */
    .ai-fab-button {
      position: fixed; bottom: clamp(20px, 5vw, 30px); right: clamp(20px, 5vw, 30px);
      background: rgba(255,255,255,0.15); backdrop-filter: blur(30px);
      border: 2px solid var(--glass-border); border-radius: 50px;
      padding: clamp(10px, 2.5vw, 14px); cursor: pointer; z-index: 1000;
      width: clamp(56px, 14vw, 70px); height: clamp(56px, 14vw, 70px);
      display: flex; align-items: center; justify-content: center;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      box-shadow: 0 8px 25px -10px rgba(245, 158, 11, 0.3), inset 0 2px 0 rgba(255,255,255,0.6);
    }
    body[dir="ltr"] .ai-fab-button { right: auto; left: clamp(20px, 5vw, 30px); }
    .ai-fab-button:hover {
      width: auto; padding: clamp(10px, 2.5vw, 14px) clamp(18px, 4.5vw, 24px);
      border-color: var(--color-ai);
      background: rgba(245, 158, 11, 0.15);
      transform: translateY(-3px);
      animation: ai-glow 2.5s infinite alternate;
    }
    .ai-fab-button svg { 
      width: clamp(28px, 7vw, 36px); 
      height: clamp(28px, 7vw, 36px); 
      flex-shrink: 0; 
      transition: transform 0.3s ease; 
    }
    .ai-fab-button:hover svg { transform: scale(0.9) rotate(5deg); }
    .ai-fab-text {
      font-size: clamp(0.85rem, 2.2vw, 1rem); 
      font-weight: 600;
      color: var(--color-ai); 
      white-space: nowrap;
      display: none; 
      margin-left: 10px;
    }
    body[dir="ltr"] .ai-fab-text { margin-left: 0; margin-right: 10px; }
    .ai-fab-button:hover .ai-fab-text { display: block; }

    /* AI Chat Modal */
    .ai-chat-modal {
      position: fixed; inset: 0;
      background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(10px);
      display: none; align-items: center; justify-content: center;
      z-index: 2000; padding: 20px;
    }
    .ai-chat-modal.visible { display: flex; animation: fadeIn 0.3s ease; }
    
    .ai-chat-container {
      background: var(--glass-bg); 
      border: 2px solid var(--glass-border); 
      border-radius: var(--border-radius);
      width: 90%; max-width: 600px; height: 80%; max-height: 700px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.2);
      display: flex; flex-direction: column;
      transform: scale(0.95); transition: transform 0.3s ease;
      backdrop-filter: blur(25px);
      overflow: hidden;
    }
    .ai-chat-modal.visible .ai-chat-container { transform: scale(1); }
    
    .ai-chat-header {
      padding: 15px 20px;
      border-bottom: 2px solid var(--glass-border);
      display: flex; justify-content: space-between; align-items: center;
      background: linear-gradient(180deg, rgba(255,255,255,0.4), transparent);
    }
    .ai-chat-header h3 {
      color: var(--color-primary);
      margin: 0;
      font-size: clamp(1.1rem, 4vw, 1.3rem);
      font-weight: 700;
    }
    .ai-chat-close-btn {
      background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
      border: 1.5px solid rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
      color: #64748b;
      width: 38px;
      height: 38px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      font-size: 0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.6);
      position: relative;
      overflow: hidden;
    }
    .ai-chat-close-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, transparent, rgba(220, 38, 38, 0.1));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .ai-chat-close-btn:hover::before {
      opacity: 1;
    }
    .ai-chat-close-btn:hover {
      border-color: rgba(220, 38, 38, 0.4);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(220, 38, 38, 0.25), inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .ai-chat-close-btn svg {
      width: 18px;
      height: 18px;
      color: #64748b;
      transition: all 0.3s ease;
      position: relative;
      z-index: 1;
    }
    .ai-chat-close-btn:hover svg {
      color: #dc2626;
      transform: rotate(90deg) scale(1.1);
    }
    
    .ai-chat-messages {
      flex: 1; overflow-y: auto; padding: 20px;
      display: flex; flex-direction: column; gap: 15px;
    }
    .ai-chat-messages::-webkit-scrollbar { width: 10px; }
    .ai-chat-messages::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
    }
    .ai-chat-messages::-webkit-scrollbar-thumb {
      background: rgba(22, 163, 74, 0.4);
      border-radius: 10px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
    .ai-chat-messages::-webkit-scrollbar-thumb:hover {
      background: rgba(22, 163, 74, 0.6);
      background-clip: padding-box;
    }
    
    .chat-message {
      max-width: 85%;
      padding: 10px 15px;
      border-radius: 18px;
      line-height: 1.6;
      animation: slideUp 0.3s ease;
    }
    .user-message {
      background: rgba(22,163,74,0.2);
      color: #14532d;
      border-bottom-right-radius: 4px;
      align-self: flex-end;
    }
    body[dir="ltr"] .user-message {
      border-bottom-left-radius: 4px;
      border-bottom-right-radius: 18px;
      align-self: flex-start;
    }
    .ai-message {
      background: rgba(245,158,11,0.15);
      color: #78350f;
      border-bottom-left-radius: 4px;
      align-self: flex-start;
    }
    body[dir="ltr"] .ai-message {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 18px;
      align-self: flex-end;
    }
    
    .chat-message strong { color: #1e3a8a; font-weight: 700; }
    .chat-message ul { margin: 8px 0; padding-right: 20px; }
    body[dir="ltr"] .chat-message ul { padding-right: 0; padding-left: 20px; }
    .chat-message li { margin-bottom: 4px; color: inherit; }
    
    .typing-indicator {
      background: rgba(245,158,11,0.15) !important;
      color: #9ca3af !important;
      font-style: italic;
    }
    .dot {
      animation: typingDots 1.5s infinite;
      font-size: 1.2em;
      color: var(--color-ai) !important;
    }
    .dot:nth-child(2) { animation-delay: 0.3s; }
    .dot:nth-child(3) { animation-delay: 0.6s; }
    
    .ai-chat-input-area {
      padding: 15px 20px;
      border-top: 2px solid var(--glass-border);
      display: flex; gap: 10px;
      background: linear-gradient(0deg, rgba(255,255,255,0.4), transparent);
    }
    #ai-chat-input {
      flex-grow: 1;
      border: 2px solid var(--glass-border);
      background: rgba(255,255,255,0.3);
      border-radius: 50px;
      padding: 10px 18px;
      font-size: 1rem;
      color: var(--text-color);
      outline: none;
      transition: border-color 0.3s, box-shadow 0.3s;
      font-family: inherit;
    }
    #ai-chat-input:focus {
      border-color: var(--color-ai);
      box-shadow: 0 0 10px rgba(245,158,11,0.3);
    }
    #ai-chat-input:disabled { opacity: 0.6; cursor: not-allowed; }
    
    #ai-chat-send-btn {
      background-color: var(--color-ai);
      border: none; border-radius: 50%;
      width: 48px; height: 48px; flex-shrink: 0;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: background-color 0.3s, transform 0.2s, opacity 0.3s;
    }
    #ai-chat-send-btn:hover:not(:disabled) {
      background-color: #fbbf24;
      transform: scale(1.05);
    }
    #ai-chat-send-btn:disabled {
      opacity: 0.6; cursor: not-allowed; transform: none;
    }
    #ai-chat-send-btn svg { width: 24px; height: 24px; color: white; }

    /* Main Content */
    .main-content { max-width: 1200px; margin: 90px auto 0; padding: clamp(20px, 5vw, 40px); }
    .glassy-card {
      background: var(--glass-bg);
      border: 2px solid var(--glass-border);
      border-radius: var(--border-radius);
      padding: clamp(20px, 5vw, 30px);
      margin-bottom: clamp(25px, 5vw, 35px);
      backdrop-filter: blur(25px);
      transition: all 0.4s ease;
      box-shadow: 0 20px 50px rgba(0,0,0,0.1), inset 0 2px 0 rgba(255,255,255,0.5);
    }
    .glassy-card:hover { transform: translateY(-5px) scale(1.01); border-color: rgba(255,255,255,0.7); }

    /* Typography */
    h1, h2, h3, h4, h5 { 
      font-weight: 700; 
      text-shadow: 0 2px 8px rgba(255,255,255,0.8);
      letter-spacing: -0.02em;
    }
    h1 {
      font-size: clamp(2rem, 6vw, 3.2rem);
      text-align: center;
      margin-bottom: clamp(20px, 4vw, 30px);
      color: #14532d;
      font-weight: 800;
    }
    h2 {
      font-size: clamp(1.5rem, 5vw, 2.5rem);
      border-bottom: 3px solid rgba(22,163,74,0.3);
      padding-bottom: clamp(10px, 2vw, 15px);
      margin-bottom: clamp(20px, 4vw, 30px);
      color: #166534;
      font-weight: 700;
    }
    h3 {
      font-size: clamp(1.2rem, 4vw, 1.8rem);
      margin-bottom: clamp(15px, 3vw, 20px);
      color: #15803d;
      font-weight: 600;
    }
    h4 {
      font-size: clamp(1.1rem, 3.5vw, 1.4rem);
      color: var(--color-primary);
      margin-bottom: clamp(12px, 2vw, 15px);
      font-weight: 600;
    }
    p, li { 
      color: #475569; 
      margin-bottom: clamp(10px, 2vw, 12px);
      line-height: 1.85;
    }
    strong { color: #14532d; font-weight: 600; }
    ul, ol { padding-right: clamp(20px, 4vw, 25px); margin-bottom: 20px; }
    body[dir="ltr"] ul, body[dir="ltr"] ol { padding-right: 0; padding-left: clamp(20px, 4vw, 25px); }

    /* Highlighters */
    mark {
      border-radius: 4px;
      padding: 2px 6px;
      font-weight: 500;
      border: none;
    }
    .highlight-green { background: rgba(22,163,74,0.2); color: #14532d; }
    .highlight-blue { background: rgba(59,130,246,0.2); color: #1e3a8a; }
    .highlight-yellow { background: rgba(234,179,8,0.2); color: #713f12; }
    .highlight-orange { background: rgba(249,115,22,0.2); color: #7c2d12; }
    .highlight-pink { background: rgba(236,72,153,0.2); color: #831843; }

    /* Interactive Questions */
    .question-container {
      background: rgba(22,163,74,0.08);
      border: 2px solid rgba(22,163,74,0.2);
      border-radius: 18px;
      padding: 25px;
      margin: 20px 0;
      cursor: pointer;
      position: relative;
      transition: all 0.4s ease;
    }
    .question-container:hover {
      transform: translateY(-3px);
      border-color: var(--color-primary-medium);
      background: rgba(22,163,74,0.12);
    }
    .question-container.open {
      border-color: var(--color-primary-medium);
      background: rgba(22,163,74,0.15);
    }
    .question-container::after {
      content: "";
      position: absolute;
      top: 28px;
      left: 28px;
      width: 20px;
      height: 20px;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%2316a34a" stroke-width="2.5"><path d="M6 9l6 6 6-6"/></svg>') center/contain no-repeat;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    body[dir="ltr"] .question-container::after { left: auto; right: 28px; }
    .question-container.open::after { transform: rotate(180deg); }

    .question-header {
      font-weight: 600;
      color: var(--color-primary);
      margin-bottom: 0;
      font-size: 1.05rem;
      padding-left: 45px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    body[dir="ltr"] .question-header { padding-left: 0; padding-right: 45px; }

    .question-icon {
      width: 22px;
      height: 22px;
      flex-shrink: 0;
    }

    .question-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 1.2s cubic-bezier(0.4, 0, 0.2, 1), margin-top 0.5s ease;
    }
    .question-content.show { max-height: 3000px; margin-top: 20px; }

    .mcq-options { list-style: none; padding: 0; margin-top: 15px; }
    .mcq-option {
      background: rgba(255,255,255,0.3);
      border: 2px solid rgba(255,255,255,0.4);
      border-radius: 12px;
      padding: 14px 18px;
      margin: 10px 0;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      position: relative;
    }
    .mcq-option:hover {
      background: rgba(22,163,74,0.15);
      transform: translateX(-5px);
      border-color: var(--color-primary);
    }
    body[dir="ltr"] .mcq-option:hover { transform: translateX(5px); }
    .mcq-option.selected {
      background: rgba(22,163,74,0.2);
      border-color: var(--color-primary);
      transform: scale(1.02);
    }
    .mcq-option.correct {
      background: linear-gradient(135deg, rgba(34,197,94,0.3), rgba(22,163,74,0.2));
      border-color: var(--color-primary-medium);
      color: #14532d;
      font-weight: 600;
    }
    .mcq-option.incorrect {
      background: linear-gradient(135deg, rgba(239,68,68,0.3), rgba(220,38,38,0.2));
      border-color: #dc2626;
      color: #7f1d1d;
      animation: shake 0.5s ease;
    }

    .solution-content {
      background: rgba(255,255,255,0.3);
      border: 1px solid rgba(255,255,255,0.4);
      padding: 20px;
      border-radius: 14px;
      animation: slideUp 0.6s ease;
    }
    .solution-content strong { color: #15803d; }

    /* Tables */
    .table-container { overflow-x: auto; margin: 20px 0; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
    .concepts-table {
      width: 100%;
      border-collapse: collapse;
      background: rgba(255,255,255,0.2);
      border-radius: 12px;
      overflow: hidden;
      backdrop-filter: blur(15px);
    }
    .concepts-table th, .concepts-table td {
      padding: clamp(8px, 2vw, 12px);
      border: 1px solid rgba(255,255,255,0.3);
      text-align: right;
      font-size: clamp(0.8rem, 2vw, 1rem);
      vertical-align: top;
    }
    body[dir="ltr"] .concepts-table th,
    body[dir="ltr"] .concepts-table td { text-align: left; }
    .concepts-table th {
      background: rgba(22,163,74,0.2);
      font-weight: 700;
      color: var(--color-primary);
      text-align: center;
    }
    .concepts-table tr:hover { background: rgba(255,255,255,0.1); }

    /* Footer */
    .footer-info {
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 16px;
      padding: 20px 24px;
      margin-top: 40px;
      text-align: center;
      backdrop-filter: blur(15px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }
    .footer-brand {
      font-size: 0.95rem;
      color: var(--color-primary-dark);
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .footer-brand svg { width: 20px; height: 20px; }
    .footer-divider {
      width: 60px;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
      margin: 12px auto;
    }
    .footer-disclaimer {
      font-size: 0.85rem;
      color: #64748b;
      line-height: 1.6;
      margin-top: 8px;
    }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="background-waves">
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
  </div>

  <!-- Translation Button -->
  <button class="translation-button" id="translationButton" aria-label="تبديل اللغة">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25C9.36657 2.25 6.94277 3.22321 5.16629 4.83371M12.75 2.25V7.5M12.75 7.5H18M12.75 7.5L5.16629 4.83371M11.25 21.75V16.5M11.25 16.5H6M11.25 16.5L18.8337 19.1663M5.16629 4.83371C3.22321 6.94277 2.25 9.36657 2.25 12M2.25 12C2.25 14.6334 3.22321 17.0572 4.83371 18.8337M18.8337 19.1663C20.7768 17.0572 21.75 14.6334 21.75 12M18.8337 4.83371C17.0572 3.22321 14.6334 2.25 12 2.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span class="translation-text">English</span>
  </button>

  <!-- AI FAB Button -->
  <button class="ai-fab-button" id="aiChatButton" aria-label="مساعد أثر الذكي">
    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #f59e0b;">
      <path d="M12 8V4H8"></path>
      <rect x="4" y="12" width="16" height="8" rx="2"></rect>
      <path d="M2 14h2"></path>
      <path d="M20 14h2"></path>
      <path d="M15 13v-2a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v2"></path>
    </svg>
    <span class="ai-fab-text" id="aiFabText">أثر AI</span>
  </button>

  <!-- AI Chat Modal -->
  <div class="ai-chat-modal" id="aiChatModal">
    <div class="ai-chat-container">
      <div class="ai-chat-header">
        <h3 id="ai-chat-title">اسأل أثر AI</h3>
        <button class="ai-chat-close-btn" id="aiChatCloseBtn" aria-label="إغلاق">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="ai-chat-messages" id="aiChatMessages"></div>
      <div class="ai-chat-input-area">
        <input type="text" id="ai-chat-input" placeholder="اكتب سؤالك هنا...">
        <button id="ai-chat-send-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    <div id="arabicContent">
<div id="arabicContent">
  <!-- 🎯 بطاقة العنوان الرئيسي -->
  <div class="glassy-card">
    <h1>الإحصاء الوصفي: جداول التوزيع التكراري والتمثيل بالساق والورقة</h1>
    <p style="text-align: center; font-size: 1.1rem; color: #15803d; font-weight: 500;">
      تعلّم كيف تنظم البيانات بشكل يجعلها أسهل في القراءة والفهم، من خلال الجداول والأشكال البصرية الواضحة.
    </p>
  </div>

  <!-- 📚 المفهوم الأول: مقدمة التوزيع التكراري -->
  <div class="glassy-card">
    <h2>📊 جداول التوزيع التكراري</h2>
    <p>
      <mark class="highlight-green">التوزيع التكراري</mark> هو أداة قوية جداً لتنظيم البيانات الكمية. الفكرة ببساطة: بدلاً من عرض كل قيمة وحدها، نجمّع القيم المتشابهة في <mark class="highlight-blue">فئات</mark>، ثم نعد كم قيمة موجودة في كل فئة—وهذا اسمه <mark class="highlight-orange">التكرار</mark>.
    </p>
    <p>
      تخيل أنك تملك <strong>30 رقماً متناثراً</strong> أمامك—هل ستفهم منها شيئاً؟ صعب جداً! لذلك نحتاج لتعلّم طرق تنظيم هذه البيانات.
    </p>
  </div>

  <!-- 🔑 المفهوم الثاني: مكونات جدول التوزيع -->
  <div class="glassy-card">
    <h3>🧩 مكونات جدول التوزيع التكراري</h3>
    <p>دعنا نفهم المفاهيم الأساسية التي تبني الجدول:</p>
    
    <ul>
      <li>
        <strong>الفئة:</strong> هي مجموعة من القيم المتقاربة نجمعها معاً. <mark class="highlight-orange">مثال:</mark> من 20 إلى 30، من 30 إلى 40، وهكذا.
      </li>
      <li>
        <strong>التكرار:</strong> عدد المشاهدات التي تقع في كل فئة. ببساطة: <mark class="highlight-green">كم رقماً موجود في هذه الفئة؟</mark>
      </li>
      <li>
        <strong>عرض الفئة:</strong> الفرق بين الحد الأدنى لفئة والحد الأدنى للفئة التالية. هذه المسافة التي تفصل كل فئة عن الأخرى.
      </li>
      <li>
        <strong>عدد الفئات:</strong> كم فئة سنقسم البيانات عليها؟ القاعدة العامة: <mark class="highlight-yellow">كلما زاد حجم البيانات، زاد عدد الفئات.</mark>
      </li>
    </ul>

    <p style="margin-top: 20px;">
      <mark class="highlight-yellow">⚠️ ملاحظة مهمة:</mark> اختيار عدد الفئات مهم جداً—إن كانت قليلة ستخفي تفاصيل، وإن كانت كثيرة ستعقّد الموضوع. هذه مهارة تأتي بالممارسة!
    </p>
  </div>

  <!-- 📐 المفهوم الثالث: نقطة المنتصف والمفاهيم الإضافية -->
  <div class="glassy-card">
    <h3>📐 نقطة منتصف الفئة ومفاهيم إضافية</h3>
    
    <h4>🎯 نقطة منتصف الفئة</h4>
    <p>
      هي المتوسط الحسابي للحد الأدنى للفئة والحد الأدنى للفئة التالية. <mark class="highlight-green">القانون الرسمي:</mark>
    </p>
    <p style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 12px; text-align: center; font-size: 1.1rem;">
      <strong>نقطة منتصف الفئة = (الحد الأدنى للفئة + الحد الأدنى للفئة التالية) ÷ 2</strong>
    </p>
    <p>ببساطة: نجمع الحدين ونقسم على 2—نفس فكرة المتوسط العادي!</p>

    <h4 style="margin-top: 25px;">📊 التكرار النسبي</h4>
    <p>
      هو نسبة تكرار كل فئة من إجمالي البيانات. <mark class="highlight-blue">القانون:</mark>
    </p>
    <p style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 12px; text-align: center; font-size: 1.1rem;">
      <strong>التكرار النسبي = التكرار ÷ الإجمالي</strong>
    </p>
    <p>
      التكرار النسبي يساعدك لتفهم: <mark class="highlight-orange">"ما نسبة البيانات التي تقع في هذه الفئة؟"</mark> بدلاً من النظر إلى أرقام مطلقة.
    </p>

    <h4 style="margin-top: 25px;">📈 التكرار التراكمي</h4>
    <p>
      هو مجموع التكرارات من أول فئة حتى الفئة الحالية. بمعنى: <mark class="highlight-pink">نجمع كل التكرارات السابقة حتى نصل للفئة الحالية.</mark>
    </p>
  </div>

  <!-- 💡 الحالة العملية 1: مثال شامل -->
  <div class="glassy-card">
    <h2>💡 الحالة العملية الأولى: مثال شامل على التوزيع التكراري</h2>
    
    <h3>📋 المسألة</h3>
    <p style="background: rgba(22,163,74,0.1); padding: 20px; border-radius: 14px; border-right: 4px solid var(--color-primary);">
      لدينا عينة من 30 مشاهدة:<br>
      <strong>30.0، 47.4، 39.4، 30.8، 36.6، 46.0، 28.4، 41.6، 27.0، 41.4، 34.8، 37.2، 25.8، 40.6، 27.4، 42.8، 36.6، 59.6، 34.2، 37.8، 20.6، 52.2، 31.4، 28.0، 35.6، 67.6، 46.4، 25.8، 54.2، 33.2</strong>
    </p>

    <h4>📌 المطلوب:</h4>
    <ul>
      <li>أ) نظّم البيانات في جدول توزيع تكراري</li>
      <li>ب) احسب نقطة منتصف الفئة والتكرارات النسبية</li>
      <li>ج) احسب جدول التكرار التراكمي</li>
    </ul>

    <!-- الحل القابل للطي -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <svg class="question-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 12h6M12 9v6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span>اضغط هنا لعرض الحل خطوة بخطوة</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>🔍 تحليل الحل</h4>
          
          <p><strong>الخطوة الأولى:</strong> نحدد أصغر قيمة وأكبر قيمة</p>
          <ul>
            <li>أصغر قيمة = <mark class="highlight-green">20.6</mark></li>
            <li>أكبر قيمة = <mark class="highlight-green">67.6</mark></li>
          </ul>

          <p><strong>الخطوة الثانية:</strong> نحسب المدى</p>
          <p style="background: rgba(255,255,255,0.3); padding: 10px; border-radius: 8px;">
            المدى = 67.6 - 20.6 ≈ <strong>47</strong>
          </p>

          <p><strong>الخطوة الثالثة:</strong> نختار عدد الفئات</p>
          <p>
            البيانات 30 قيمة، يمكننا اختيار <mark class="highlight-blue">5 فئات</mark>. عرض كل فئة = 47 ÷ 5 ≈ 10 (نقربها إلى 10 لتكون رقماً مريحاً).
          </p>

          <p><strong>الخطوة الرابعة:</strong> نبدأ من حد أدنى أقل من أو يساوي أصغر مشاهدة</p>
          <p>نبدأ من <mark class="highlight-orange">20</mark></p>

          <p><strong>الخطوة الخامسة:</strong> نبني الجدول!</p>
          
          <div class="table-container">
            <table class="concepts-table">
              <thead>
                <tr>
                  <th>الفئة</th>
                  <th>التكرار</th>
                  <th>نقطة المنتصف</th>
                  <th>التكرار النسبي</th>
                  <th>التكرار التراكمي</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>20 - 30</td>
                  <td>7</td>
                  <td>25</td>
                  <td>0.233</td>
                  <td>7</td>
                </tr>
                <tr>
                  <td>30 - 40</td>
                  <td>10</td>
                  <td>35</td>
                  <td>0.333</td>
                  <td>17</td>
                </tr>
                <tr>
                  <td>40 - 50</td>
                  <td>8</td>
                  <td>45</td>
                  <td>0.267</td>
                  <td>25</td>
                </tr>
                <tr>
                  <td>50 - 60</td>
                  <td>3</td>
                  <td>55</td>
                  <td>0.100</td>
                  <td>28</td>
                </tr>
                <tr>
                  <td>60 - 70</td>
                  <td>2</td>
                  <td>65</td>
                  <td>0.067</td>
                  <td>30</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ التحقق:</mark> مجموع التكرارات = 30 (نفس عدد المشاهدات)، ومجموع التكرارات النسبية = 1.00 (أو 100%)—هذه علامة أننا نعمل بشكل صحيح!
          </p>
        </div>
      </div>
    </div>

    <!-- تمرين محاكاة -->
    <div style="background: rgba(245,158,11,0.1); padding: 20px; border-radius: 14px; margin-top: 20px; border: 2px dashed var(--color-ai);">
      <h4 style="color: var(--color-ai);">🎯 ساحة التدريب</h4>
      <p>
        <strong>تمرين محاكاة:</strong> إذا كان لديك البيانات التالية: <mark class="highlight-orange">15، 22، 18، 30، 25، 33، 28، 19، 21، 27</mark>، حاول تنظيمها في جدول توزيع تكراري بـ 4 فئات، واحسب نقطة المنتصف والتكرار النسبي لكل فئة.
      </p>
    </div>
  </div>

  <!-- 🎓 أسئلة اختيار من متعدد -->
  <div class="glassy-card">
    <h2>🎓 أسئلة اختيار من متعدد على التوزيع التكراري</h2>

    <!-- سؤال 1 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال الأول:</strong> عدد الفئات في جدول التوزيع التكراري يعتمد على حجم البيانات. بشكل عام:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, true)">أ. كلما زاد حجم البيانات، زاد عدد الفئات</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ب. كلما زاد حجم البيانات، قلّ عدد الفئات</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ج. عدد الفئات يساوي عدد القيم في البيانات مقسوماً على 5</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">د. كلما قلّ حجم البيانات، زاد عدد الفئات</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>التفسير:</strong> القاعدة الإحصائية تقول: <mark class="highlight-green">كلما زاد حجم البيانات، زاد عدد الفئات.</mark> لماذا؟ لأنه إذا كان لديك بيانات كثيرة ووزعتها على فئات قليلة، ستخفي تفاصيل مهمة. والعكس صحيح: بيانات قليلة تحتاج فئات قليلة حتى لا تعقّد الموضوع.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 💼 الحالة العملية 2: جدول الدرجات -->
  <div class="glassy-card">
    <h2>💼 الحالة العملية الثانية: جدول درجات الطلاب</h2>
    
    <p>الجدول التالي يعرض درجات عينة من الطلاب:</p>
    
    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>الدرجة</th>
            <th>التكرار</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>من 61 إلى 70</td><td>3</td></tr>
          <tr><td>من 71 إلى 80</td><td>9</td></tr>
          <tr><td>من 81 إلى 90</td><td>12</td></tr>
          <tr><td>من 91 إلى 100</td><td>6</td></tr>
        </tbody>
      </table>
    </div>

    <!-- أسئلة على الجدول -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال:</strong> عدد الفئات في جدول التكرار هذا هو:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">أ. 3</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">ب. 4</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ج. 30</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">د. 40</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>الإجابة:</strong> لدينا <mark class="highlight-green">4 فئات</mark> (من 61-70، من 71-80، من 81-90، من 91-100).</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال:</strong> عرض كل فئة في هذا الجدول هو:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">أ. 9</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">ب. 10</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ج. 30</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">د. 40</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>الحل:</strong> عرض الفئة = 71 - 61 = <mark class="highlight-green">10</mark> (أو 81 - 71 = 10، وهكذا).</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال:</strong> نسبة الطلاب الذين حصلوا على 80 درجة أو أقل في الاختبار:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">أ. 9%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ب. 12%</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">ج. 40%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">د. 30%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>الحل:</strong> الطلاب الذين حصلوا على 80 درجة أو أقل = 3 (من 61-70) + 9 (من 71-80) = 12. حجم العينة = 3+9+12+6 = 30. النسبة = (12 ÷ 30) × 100 = <mark class="highlight-green">40%</mark>.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 📊 التوزيع التكراري التراكمي -->
  <div class="glassy-card">
    <h2>📊 التوزيع التكراري التراكمي</h2>
    
    <p>
      بعد فهمنا للتوزيع التكراري العادي، دعنا ننتقل إلى نوع آخر مهم: <mark class="highlight-green">التوزيع التكراري التراكمي</mark>. الفكرة هنا أننا نجمع التكرارات من أول فئة حتى الفئة الحالية، لنعرف: <mark class="highlight-blue">"كم مشاهدة حصلت حتى هذه النقطة؟"</mark>
    </p>

    <h3>💼 مثال عملي: دخل العائلات</h3>
    <p>الجدول التالي يعرض التوزيع التكراري التراكمي للدخل السنوي (بالآلاف) لـ 200 عائلة:</p>

    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>الدخل (بالآلاف)</th>
            <th>التكرار التراكمي</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>من 10 لأقل من 25</td><td>28</td></tr>
          <tr><td>من 10 لأقل من 40</td><td>85</td></tr>
          <tr><td>من 10 لأقل من 55</td><td>146</td></tr>
          <tr><td>من 10 لأقل من 70</td><td>172</td></tr>
          <tr><td>من 10 لأقل من 85</td><td>189</td></tr>
          <tr><td>من 10 لأقل من 100</td><td>200</td></tr>
        </tbody>
      </table>
    </div>

    <p style="margin-top: 15px;">
      <mark class="highlight-yellow">⚠️ لاحظ:</mark> هذا الجدول تراكمي، أي كل رقم يجمع كل ما قبله. مثلاً: 85 تعني 85 عائلة دخلها أقل من 40 ألفاً (من أول الجدول حتى 40).
    </p>

    <!-- أسئلة على الجدول التراكمي -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال:</strong> نسبة العائلات التي دخلها أقل من 55 ألفاً:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">أ. 42.5%</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">ب. 73%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ج. 86%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">د. 14%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>الحل:</strong> الفئة (من 10 لأقل من 55) التكرار التراكمي لها 146. النسبة = (146 ÷ 200) × 100 = <mark class="highlight-green">73%</mark>.</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال:</strong> نسبة العائلات التي دخلها 70 ألفاً أو أكثر:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">أ. 86%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ب. 28%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">ج. 172</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">د. 14%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>الحل:</strong> العائلات التي دخلها 70 ألفاً أو أكثر = 200 (الإجمالي) - 172 (التي دخلها أقل من 70) = 28. النسبة = (28 ÷ 200) × 100 = <mark class="highlight-green">14%</mark>.</p>
        </div>
      </div>
    </div>

    <!-- تمرين محاكاة -->
    <div style="background: rgba(245,158,11,0.1); padding: 20px; border-radius: 14px; margin-top: 20px; border: 2px dashed var(--color-ai);">
      <h4 style="color: var(--color-ai);">🎯 ساحة التدريب</h4>
      <p>
        <strong>تمرين محاكاة:</strong> إذا كان لديك جدول تراكمي يعرض أعمار 150 شخصاً، والتكرار التراكمي للفئة (من 20 لأقل من 30) هو 45، احسب:
      </p>
      <ul>
        <li>النسبة المئوية للأشخاص الذين أعمارهم أقل من 30</li>
        <li>إذا كان التكرار التراكمي للفئة (من 30 لأقل من 40) هو 90، كم شخصاً عمره بين 30 و40؟</li>
      </ul>
    </div>
  </div>

  <!-- 🌿 التمثيل بالساق والورقة -->
  <div class="glassy-card">
    <h2>🌿 التمثيل بالساق والورقة</h2>
    
    <p>
      الآن دعنا ننتقل إلى طريقة أخرى لتنظيم البيانات—أسلوب بصري وذكي جداً اسمه <mark class="highlight-green">التمثيل بالساق والورقة</mark>. هذه الطريقة تحافظ على البيانات الأصلية (وليس كالتوزيع التكراري الذي يجمع القيم)، وفي نفس الوقت تنظمها بشكل مرئي.
    </p>

    <h3>📖 التعريف الرسمي</h3>
    <p style="background: rgba(255,255,255,0.3); padding: 20px; border-radius: 14px;">
      التمثيل بالساق والورقة هو أسلوب إحصائي لعرض مجموعة بيانات. كل قيمة عددية نقسمها إلى جزأين. <mark class="highlight-blue">الأرقام الأولى</mark> تصبح <strong>الساق</strong> و<mark class="highlight-orange">الرقم الأخير</mark> يصبح <strong>الورقة</strong>. توضع السيقان على المحور الرأسي، وتُرصّ الأوراق جنب بعضها على المحور الأفقي.
    </p>

    <h3 style="margin-top: 25px;">🔧 كيفية البناء</h3>
    <p>دعنا نفهم بمثال. إذا كان لديك البيانات التالية:</p>
    <p style="background: rgba(22,163,74,0.1); padding: 15px; border-radius: 12px;">
      <strong>91، 85، 84، 79، 80، 76، 90، 99، 104، 108، 123، 100، 75، 93، 77، 95، 110، 95، 103، 100، 112، 109، 96، 90، 105، 71، 98، 89، 98، 90، 90، 94، 86، 80، 63</strong>
    </p>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span>اضغط هنا لعرض خطوات البناء</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>الخطوات:</h4>
          <ol>
            <li><strong>نحدد أكبر وأصغر قيمة:</strong> أصغر = 63، أكبر = 123</li>
            <li><strong>نحسب المدى:</strong> المدى = 123 - 63 = 60</li>
            <li><strong>نقسم أصغر قيمة:</strong> 63 ← الساق 6، الورقة 3</li>
            <li><strong>نقسم أكبر قيمة:</strong> 123 ← الساق 12، الورقة 3</li>
            <li><strong>نكتب السيقان من 6 إلى 12</strong> بدون فجوات</li>
            <li><strong>لكل قيمة:</strong> نضع الورقة (الرقم الأخير) جنب الساق المناسب</li>
          </ol>

          <h4 style="margin-top: 20px;">الشكل النهائي:</h4>
          <pre style="background: rgba(255,255,255,0.4); padding: 20px; border-radius: 12px; font-family: 'Courier New', monospace; border: 2px solid rgba(22,163,74,0.3); overflow-x: auto;">
الساق | الورقة
------|-------------------------
  6   | 3
  7   | 1 5 6 7 9
  8   | 0 0 4 5 6 9
  9   | 0 0 0 0 1 3 4 5 5 6 8 8 9
 10   | 0 0 3 4 5 8 9
 11   | 0 2
 12   | 3
          </pre>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ ملاحظة:</mark> الأوراق (الأرقام على اليمين) تعطيك فكرة عن توزيع البيانات—يمكنك أن ترى أي فئة فيها أكثر القيم (الصف 9 مثلاً فيه 13 ورقة!)، وأيها فيها قيم قليلة (الصف 6 فيه ورقة واحدة فقط).
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🎬 الحالة العملية الثالثة: تمرين الساق والورقة -->
  <div class="glassy-card">
    <h2>🎬 الحالة العملية الثالثة: تمرين شامل على الساق والورقة</h2>
    
    <h3>📋 المسألة</h3>
    <p>الجدول التالي يعرض عدد الأفلام المؤجرة يومياً في محل تأجير فيديو:</p>

    <pre style="background: rgba(255,255,255,0.4); padding: 20px; border-radius: 12px; font-family: 'Courier New', monospace; border: 2px solid rgba(22,163,74,0.3); overflow-x: auto;">
الساق | الورقة
------|-------------------------
  8   | 8
  9   | 4 7
 10   | 0 5
 11   | 3 6 6 7 7 8 9
 12   | 2 2 3 4 5 9
 13   | 0 1 5 6 7 8
 14   | 2 8
 15   | 5
    </pre>

    <h4>الأسئلة:</h4>

    <!-- سؤال أ -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال أ:</strong> كم يوماً تمت دراسته؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> نعد كل الأوراق (كل رقم على اليمين):</p>
          <ul>
            <li>الساق 8: ورقة واحدة</li>
            <li>الساق 9: ورقتان</li>
            <li>الساق 10: ورقتان</li>
            <li>الساق 11: 7 أوراق</li>
            <li>الساق 12: 6 أوراق</li>
            <li>الساق 13: 6 أوراق</li>
            <li>الساق 14: ورقتان</li>
            <li>الساق 15: ورقة واحدة</li>
          </ul>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px; margin-top: 10px;">
            <strong>الإجمالي:</strong> 1 + 2 + 2 + 7 + 6 + 6 + 2 + 1 = <mark class="highlight-green">27 يوماً</mark>
          </p>
        </div>
      </div>
    </div>

    <!-- سؤال ب -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال ب:</strong> كم مشاهدة موجودة في آخر فئة (الصف الأخير)؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> آخر ساق هو 15، وفيه <mark class="highlight-green">ورقة واحدة</mark> فقط (الرقم 5).</p>
          <p><strong>الإجابة:</strong> مشاهدة واحدة</p>
        </div>
      </div>
    </div>

    <!-- سؤال ج -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال ج:</strong> ما هي أكبر وأصغر قيمة في البيانات كلها؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong></p>
          <ul>
            <li><strong>أصغر قيمة:</strong> أول ساق (8) + أول ورقة فيه (8) = <mark class="highlight-green">88</mark></li>
            <li><strong>أكبر قيمة:</strong> آخر ساق (15) + آخر ورقة فيه (5) = <mark class="highlight-green">155</mark></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- سؤال د -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال د:</strong> اذكر القيم الفعلية في الصف الرابع.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> الصف الرابع هو الساق 11، والأوراق فيه: 3، 6، 6، 7، 7، 8، 9</p>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px;">
            <strong>القيم الفعلية:</strong> <mark class="highlight-green">113، 116، 116، 117، 117، 118، 119</mark>
          </p>
        </div>
      </div>
    </div>

    <!-- سؤال هـ -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال هـ:</strong> في كم يوماً تم تأجير أقل من 160 فيلماً؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> نعد كل الأوراق في السيقان التي أقل من 16 (أي من 8 إلى 15):</p>
          <p><strong>الإجمالي:</strong> جميع الأوراق = <mark class="highlight-green">27 يوماً</mark> (لأن أكبر قيمة 155، وهي أقل من 160)</p>
        </div>
      </div>
    </div>

    <!-- سؤال و -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال و:</strong> ما هي القيمة الوسطى؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> نرتب كل القيم ونختار الوسط. عدد الأيام = 27 (فردي)</p>
          <p>القيمة الوسطى = القيمة رقم (27 + 1) ÷ 2 = القيمة رقم 14</p>
          <p>بترتيب القيم من الجدول، القيمة رقم 14 = <mark class="highlight-green">124</mark></p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🏢 الحالة العملية الرابعة: شركة تغيير الزيت -->
  <div class="glassy-card">
    <h2>🏢 الحالة العملية الرابعة: شركة تغيير الزيت</h2>
    
    <h3>📋 المسألة</h3>
    <p style="background: rgba(22,163,74,0.1); padding: 20px; border-radius: 14px; border-right: 4px solid var(--color-primary);">
      لدى شركة تغيير الزيت السريع عدة فروع في منطقة مدينة سياتل. عدد عمليات تغيير الزيت في فرع شارع أوك في آخر 20 يوماً كان:<br>
      <strong>65، 98، 55، 62، 79، 59، 51، 90، 72، 56، 70، 62، 66، 80، 94، 79، 63، 73، 71، 85</strong>
    </p>

    <h4>الأسئلة:</h4>

    <!-- سؤال أ -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال أ:</strong> كم فئة توصي باستخدامها؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> قاعدة عامة: إذا كان عدد المشاهدات 20، يمكننا اختيار <mark class="highlight-green">5 أو 6 فئات</mark>.</p>
          <p><strong>التوصية:</strong> 5 فئات (رقم مريح للعمل)</p>
        </div>
      </div>
    </div>

    <!-- سؤال ب -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال ب:</strong> ما الفاصل الزمني للفئة الذي تقترحه؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong></p>
          <ul>
            <li>أكبر قيمة = 98</li>
            <li>أصغر قيمة = 51</li>
            <li>المدى = 98 - 51 = 47</li>
            <li>عرض الفئة = 47 ÷ 5 ≈ 9.4</li>
          </ul>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px;">
            <strong>التوصية:</strong> عرض الفئة = <mark class="highlight-green">10</mark> (نقرب لرقم مريح)
          </p>
        </div>
      </div>
    </div>

    <!-- سؤال ج -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال ج:</strong> ما الحد الأدنى الذي توصي به للفئة الأولى؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الحل:</strong> نختار رقماً أقل من أو يساوي أصغر مشاهدة (51)، ويفضل أن يكون رقماً "مريحاً".</p>
          <p><strong>التوصية:</strong> <mark class="highlight-green">50</mark> (رقم دائري سهل)</p>
        </div>
      </div>
    </div>

    <!-- سؤال د -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>السؤال د:</strong> نظّم عدد عمليات تغيير الزيت في جدول توزيع تكراري.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>الجدول المقترح:</h4>
          
          <div class="table-container">
            <table class="concepts-table">
              <thead>
                <tr>
                  <th>الفئة</th>
                  <th>التكرار</th>
                  <th>نقطة المنتصف</th>
                  <th>التكرار النسبي</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>50 - 60</td>
                  <td>4</td>
                  <td>55</td>
                  <td>0.20</td>
                </tr>
                <tr>
                  <td>60 - 70</td>
                  <td>5</td>
                  <td>65</td>
                  <td>0.25</td>
                </tr>
                <tr>
                  <td>70 - 80</td>
                  <td>6</td>
                  <td>75</td>
                  <td>0.30</td>
                </tr>
                <tr>
                  <td>80 - 90</td>
                  <td>3</td>
                  <td>85</td>
                  <td>0.15</td>
                </tr>
                <tr>
                  <td>90 - 100</td>
                  <td>2</td>
                  <td>95</td>
                  <td>0.10</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ التحقق:</mark> مجموع التكرارات = 20، مجموع التكرارات النسبية = 1.00
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🎯 أسئلة امتحان محتملة -->
  <div class="glassy-card">
    <h2>🎯 أسئلة امتحان محتملة</h2>

    <!-- سؤال مقالي 1 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>سؤال مقالي 1:</strong> اشرح الفرق بين التوزيع التكراري العادي والتوزيع التكراري التراكمي، مع ذكر استخدام عملي لكل منهما.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الإجابة المتوقعة:</strong></p>
          <p>
            <mark class="highlight-blue">التوزيع التكراري العادي</mark> يعرض عدد المشاهدات في كل فئة بشكل منفصل، بينما <mark class="highlight-green">التوزيع التكراري التراكمي</mark> يجمع كل التكرارات من البداية حتى الفئة الحالية.
          </p>
          <p><strong>الاستخدام العملي:</strong></p>
          <ul>
            <li><strong>العادي:</strong> مناسب لمعرفة التوزيع داخل كل فئة—مثلاً: "كم طالباً حصل على درجات بين 80 و90؟"</li>
            <li><strong>التراكمي:</strong> مناسب لمعرفة "كم حتى هذه النقطة" أو "كم فوق هذه النقطة"—مثلاً: "كم طالباً حصل على أقل من 80 درجة؟" أو "كم طالباً حصل على 90 درجة أو أكثر؟"</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- سؤال مقالي 2 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>سؤال مقالي 2:</strong> ما مميزات استخدام التمثيل بالساق والورقة مقارنة بجدول التوزيع التكراري؟</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>الإجابة المتوقعة:</strong></p>
          <p><strong>مميزات التمثيل بالساق والورقة:</strong></p>
          <ul>
            <li><mark class="highlight-green">يحافظ على البيانات الأصلية:</mark> يمكنك رؤية كل قيمة بشكل فردي، بينما التوزيع التكراري يجمع القيم في فئات</li>
            <li><mark class="highlight-blue">سهل البناء السريع:</mark> لا يحتاج لحسابات معقدة—فقط تقسيم الأرقام</li>
            <li><mark class="highlight-orange">مرئي وبديهي:</mark> يظهر شكل التوزيع مباشرة دون رسم بياني</li>
            <li><mark class="highlight-pink">مناسب للبيانات الصغيرة:</mark> يعمل بشكل ممتاز مع 20-50 مشاهدة</li>
          </ul>
          <p><strong>متى نستخدم التوزيع التكراري بدلاً منه؟</strong> عندما تكون البيانات كبيرة جداً (100+ مشاهدة) أو عندما نريد حسابات دقيقة للتكرارات النسبية والتراكمية.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 📊 جدول المفاهيم الشامل -->
  <div class="glassy-card">
    <h2>📊 جدول المفاهيم الأساسية</h2>
    
    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>المفهوم</th>
            <th>التعريف الرسمي</th>
            <th>الخلاصة بكلمتين</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>التوزيع التكراري</strong></td>
            <td>أداة لتنظيم البيانات الكمية في فئات ونعد كم قيمة في كل فئة</td>
            <td>تنظيم البيانات</td>
          </tr>
          <tr>
            <td><strong>الفئة</strong></td>
            <td>مجموعة من القيم المتقاربة نجمعها معاً</td>
            <td>مجموعة قيم</td>
          </tr>
          <tr>
            <td><strong>التكرار</strong></td>
            <td>عدد المشاهدات التي تقع في كل فئة</td>
            <td>عدد المشاهدات</td>
          </tr>
          <tr>
            <td><strong>عرض الفئة</strong></td>
            <td>الفرق بين الحد الأدنى لفئة والحد الأدنى للفئة التالية</td>
            <td>الفرق بين الحدود</td>
          </tr>
          <tr>
            <td><strong>عدد الفئات</strong></td>
            <td>كم فئة سنقسم البيانات عليها</td>
            <td>عدد المجموعات</td>
          </tr>
          <tr>
            <td><strong>نقطة منتصف الفئة</strong></td>
            <td>المتوسط الحسابي للحد الأدنى للفئة والحد الأدنى للفئة التالية</td>
            <td>متوسط الحدود</td>
          </tr>
          <tr>
            <td><strong>التكرار النسبي</strong></td>
            <td>نسبة تكرار كل فئة من إجمالي البيانات</td>
            <td>نسبة التكرار</td>
          </tr>
          <tr>
            <td><strong>التكرار التراكمي</strong></td>
            <td>مجموع التكرارات من أول فئة حتى الفئة الحالية</td>
            <td>مجموع تراكمي</td>
          </tr>
          <tr>
            <td><strong>الساق والورقة</strong></td>
            <td>طريقة تنظيم البيانات بتقسيم كل قيمة لساق (الأرقام الأولى) وورقة (الرقم الأخير)</td>
            <td>تقسيم مرئي</td>
          </tr>
          <tr>
            <td><strong>المدى</strong></td>
            <td>الفرق بين أكبر قيمة وأصغر قيمة في البيانات</td>
            <td>الفرق الأقصى</td>
          </tr>
          <tr>
            <td><strong>حجم العينة</strong></td>
            <td>إجمالي عدد المشاهدات في البيانات</td>
            <td>إجمالي المشاهدات</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- 📌 ملاحظة ختامية -->
  <div class="footer-info">
    <div class="footer-brand">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
      </svg>
      <span>منصة أثر التعليمية</span>
    </div>
    <div class="footer-divider"></div>
    <p class="footer-disclaimer">
      تم تصميم هذا المحتوى التعليمي بواسطة <strong>أثر الذكي</strong> بأسلوب تفاعلي احترافي. جميع المفاهيم والقوانين الواردة مطابقة للمنهج الأكاديمي الأصلي.
    </p>
  </div>
</div>

      
    </div>

   
      <div id="englishContent" class="hidden">
  <!-- 🎯 Main Title Card -->
  <div class="glassy-card">
    <h1>Descriptive Statistics: Frequency Distribution Tables & Stem-and-Leaf Display</h1>
    <p style="text-align: center; font-size: 1.1rem; color: #15803d; font-weight: 500;">
      Learn how to organize data in a way that makes it easier to read and understand, through clear tables and visual representations.
    </p>
  </div>

  <!-- 📚 Concept 1: Introduction to Frequency Distribution -->
  <div class="glassy-card">
    <h2>📊 Frequency Distribution Tables</h2>
    <p>
      <mark class="highlight-green">Frequency distribution</mark> is a powerful tool for organizing quantitative data. The idea is simple: instead of displaying each value individually, we group similar values into <mark class="highlight-blue">classes</mark>, then count how many values exist in each class—this is called <mark class="highlight-orange">frequency</mark>.
    </p>
    <p>
      Imagine you have <strong>30 scattered numbers</strong> in front of you—would you understand them? Very difficult! That's why we need to learn methods to organize this data.
    </p>
  </div>

  <!-- 🔑 Concept 2: Components of Frequency Distribution -->
  <div class="glassy-card">
    <h3>🧩 Components of Frequency Distribution Table</h3>
    <p>Let's understand the basic concepts that build the table:</p>
    
    <ul>
      <li>
        <strong>Class:</strong> A group of similar values grouped together. <mark class="highlight-orange">Example:</mark> from 20 to 30, from 30 to 40, and so on.
      </li>
      <li>
        <strong>Frequency:</strong> The number of observations that fall in each class. Simply: <mark class="highlight-green">how many numbers are in this class?</mark>
      </li>
      <li>
        <strong>Class Width:</strong> The difference between the lower limit of a class and the lower limit of the next class. This is the distance that separates each class from another.
      </li>
      <li>
        <strong>Number of Classes:</strong> How many classes will we divide the data into? General rule: <mark class="highlight-yellow">the larger the dataset, the higher the number of classes.</mark>
      </li>
    </ul>

    <p style="margin-top: 20px;">
      <mark class="highlight-yellow">⚠️ Important Note:</mark> Choosing the number of classes is very important—if too few, you'll hide details; if too many, you'll complicate things. This is a skill that comes with practice!
    </p>
  </div>

  <!-- 📐 Concept 3: Class Midpoint and Additional Concepts -->
  <div class="glassy-card">
    <h3>📐 Class Midpoint and Additional Concepts</h3>
    
    <h4>🎯 Class Midpoint</h4>
    <p>
      It is the arithmetic mean of the lower limit of the class and the lower limit of the next class. <mark class="highlight-green">The official formula:</mark>
    </p>
    <p style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 12px; text-align: center; font-size: 1.1rem;">
      <strong>Class Midpoint = (Lower limit + Lower limit for the next class) ÷ 2</strong>
    </p>
    <p>Simply: we add the two limits and divide by 2—same as the regular average!</p>

    <h4 style="margin-top: 25px;">📊 Relative Frequency</h4>
    <p>
      It is the ratio of the frequency of each class to the total data. <mark class="highlight-blue">The formula:</mark>
    </p>
    <p style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 12px; text-align: center; font-size: 1.1rem;">
      <strong>Relative Frequency = Frequency ÷ Total</strong>
    </p>
    <p>
      Relative frequency helps you understand: <mark class="highlight-orange">"What percentage of data falls in this class?"</mark> instead of looking at absolute numbers.
    </p>

    <h4 style="margin-top: 25px;">📈 Cumulative Frequency</h4>
    <p>
      It is the sum of frequencies from the first class to the current class. Meaning: <mark class="highlight-pink">we sum all previous frequencies until we reach the current class.</mark>
    </p>
  </div>

  <!-- 💡 Practical Case 1: Comprehensive Example -->
  <div class="glassy-card">
    <h2>💡 Practical Case 1: Comprehensive Example on Frequency Distribution</h2>
    
    <h3>📋 The Problem</h3>
    <p style="background: rgba(22,163,74,0.1); padding: 20px; border-radius: 14px; border-left: 4px solid var(--color-primary);">
      We have a sample of 30 observations:<br>
      <strong>30.0, 47.4, 39.4, 30.8, 36.6, 46.0, 28.4, 41.6, 27.0, 41.4, 34.8, 37.2, 25.8, 40.6, 27.4, 42.8, 36.6, 59.6, 34.2, 37.8, 20.6, 52.2, 31.4, 28.0, 35.6, 67.6, 46.4, 25.8, 54.2, 33.2</strong>
    </p>

    <h4>📌 Required:</h4>
    <ul>
      <li>a) Organize the data into a frequency distribution table</li>
      <li>b) Find the class midpoint and relative frequencies</li>
      <li>c) Find the cumulative frequency table</li>
    </ul>

    <!-- Collapsible Solution -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <svg class="question-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 12h6M12 9v6M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span>Click here to view the step-by-step solution</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>🔍 Solution Analysis</h4>
          
          <p><strong>Step 1:</strong> Identify the smallest and largest values</p>
          <ul>
            <li>Smallest value = <mark class="highlight-green">20.6</mark></li>
            <li>Largest value = <mark class="highlight-green">67.6</mark></li>
          </ul>

          <p><strong>Step 2:</strong> Calculate the range</p>
          <p style="background: rgba(255,255,255,0.3); padding: 10px; border-radius: 8px;">
            Range = 67.6 - 20.6 ≈ <strong>47</strong>
          </p>

          <p><strong>Step 3:</strong> Choose the number of classes</p>
          <p>
            The data has 30 values, so we can choose <mark class="highlight-blue">5 classes</mark>. Width of each class = 47 ÷ 5 ≈ 10 (round to 10 for convenience).
          </p>

          <p><strong>Step 4:</strong> Start from a lower limit less than or equal to the smallest observation</p>
          <p>Start from <mark class="highlight-orange">20</mark></p>

          <p><strong>Step 5:</strong> Build the table!</p>
          
          <div class="table-container">
            <table class="concepts-table">
              <thead>
                <tr>
                  <th>Class</th>
                  <th>Frequency</th>
                  <th>Midpoint</th>
                  <th>Relative Frequency</th>
                  <th>Cumulative Frequency</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>20 - 30</td>
                  <td>7</td>
                  <td>25</td>
                  <td>0.233</td>
                  <td>7</td>
                </tr>
                <tr>
                  <td>30 - 40</td>
                  <td>10</td>
                  <td>35</td>
                  <td>0.333</td>
                  <td>17</td>
                </tr>
                <tr>
                  <td>40 - 50</td>
                  <td>8</td>
                  <td>45</td>
                  <td>0.267</td>
                  <td>25</td>
                </tr>
                <tr>
                  <td>50 - 60</td>
                  <td>3</td>
                  <td>55</td>
                  <td>0.100</td>
                  <td>28</td>
                </tr>
                <tr>
                  <td>60 - 70</td>
                  <td>2</td>
                  <td>65</td>
                  <td>0.067</td>
                  <td>30</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ Verification:</mark> Sum of frequencies = 30 (same as number of observations), and sum of relative frequencies = 1.00 (or 100%)—this is a sign we're working correctly!
          </p>
        </div>
      </div>
    </div>

    <!-- Practice Exercise -->
    <div style="background: rgba(245,158,11,0.1); padding: 20px; border-radius: 14px; margin-top: 20px; border: 2px dashed var(--color-ai);">
      <h4 style="color: var(--color-ai);">🎯 Practice Arena</h4>
      <p>
        <strong>Simulation Exercise:</strong> If you have the following data: <mark class="highlight-orange">15, 22, 18, 30, 25, 33, 28, 19, 21, 27</mark>, try to organize them into a frequency distribution table with 4 classes, and calculate the midpoint and relative frequency for each class.
      </p>
    </div>
  </div>

  <!-- 🎓 Multiple Choice Questions -->
  <div class="glassy-card">
    <h2>🎓 Multiple Choice Questions on Frequency Distribution</h2>

    <!-- Question 1 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question 1:</strong> The number of classes in a frequency distribution depends on the size of data. In general:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, true)">a. larger the data set, the higher the number of classes</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">b. larger the data set, the smaller the number of classes</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">c. number of classes should be equal to the number of values in the data set divided by 5</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">d. smaller the data set, the larger the number of classes</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Explanation:</strong> The statistical rule states: <mark class="highlight-green">the larger the dataset, the higher the number of classes.</mark> Why? Because if you have a lot of data and distribute it over few classes, you'll hide important details. Conversely: small data needs fewer classes to avoid complication.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 💼 Practical Case 2: Student Scores Table -->
  <div class="glassy-card">
    <h2>💼 Practical Case 2: Student Scores Table</h2>
    
    <p>The following table shows scores for a sample of students:</p>
    
    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>Score</th>
            <th>Frequency</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>61 to 70</td><td>3</td></tr>
          <tr><td>71 to 80</td><td>9</td></tr>
          <tr><td>81 to 90</td><td>12</td></tr>
          <tr><td>91 to 100</td><td>6</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Questions on the table -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question:</strong> The number of classes in this frequency table is:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">a. 3</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">b. 4</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">c. 30</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">d. 40</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Answer:</strong> We have <mark class="highlight-green">4 classes</mark> (61-70, 71-80, 81-90, 91-100).</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question:</strong> The width of each class for this frequency table is:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">a. 9</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">b. 10</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">c. 30</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">d. 40</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Solution:</strong> Class width = 71 - 61 = <mark class="highlight-green">10</mark> (or 81 - 71 = 10, and so on).</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question:</strong> The percentage of students who scored 80 or less on the test is:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">a. 9%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">b. 12%</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">c. 40%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">d. 30%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Solution:</strong> Students who scored 80 or less = 3 (from 61-70) + 9 (from 71-80) = 12. Sample size = 3+9+12+6 = 30. Percentage = (12 ÷ 30) × 100 = <mark class="highlight-green">40%</mark>.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 📊 Cumulative Frequency Distribution -->
  <div class="glassy-card">
    <h2>📊 Cumulative Frequency Distribution</h2>
    
    <p>
      After understanding the regular frequency distribution, let's move to another important type: <mark class="highlight-green">Cumulative Frequency Distribution</mark>. The idea here is that we sum the frequencies from the first class to the current class, to know: <mark class="highlight-blue">"How many observations occurred up to this point?"</mark>
    </p>

    <h3>💼 Practical Example: Family Income</h3>
    <p>The following table shows the cumulative frequency distribution of annual income (in thousands) for 200 families:</p>

    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>Income ($000)</th>
            <th>Cumulative Frequency</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>10 to less than 25</td><td>28</td></tr>
          <tr><td>10 to less than 40</td><td>85</td></tr>
          <tr><td>10 to less than 55</td><td>146</td></tr>
          <tr><td>10 to less than 70</td><td>172</td></tr>
          <tr><td>10 to less than 85</td><td>189</td></tr>
          <tr><td>10 to less than 100</td><td>200</td></tr>
        </tbody>
      </table>
    </div>

    <p style="margin-top: 15px;">
      <mark class="highlight-yellow">⚠️ Note:</mark> This table is cumulative, meaning each number sums everything before it. For example: 85 means 85 families with income less than $40,000 (from the beginning of the table to 40).
    </p>

    <!-- Questions on cumulative table -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question:</strong> The percentage of families with an income of less than $55,000 is:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">a. 42.5%</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">b. 73%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">c. 86%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">d. 14%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Solution:</strong> The class (10 to less than 55) has cumulative frequency of 146. Percentage = (146 ÷ 200) × 100 = <mark class="highlight-green">73%</mark>.</p>
        </div>
      </div>
    </div>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question:</strong> The percentage of families with an income of $70,000 or more is:</span>
      </div>
      <div class="question-content">
        <ul class="mcq-options">
          <li class="mcq-option" onclick="selectMCQ(this, false)">a. 86%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">b. 28%</li>
          <li class="mcq-option" onclick="selectMCQ(this, false)">c. 172</li>
          <li class="mcq-option" onclick="selectMCQ(this, true)">d. 14%</li>
        </ul>
        <div class="solution-content" style="margin-top: 15px;">
          <p><strong>Solution:</strong> Families with income $70,000 or more = 200 (total) - 172 (with income less than 70) = 28. Percentage = (28 ÷ 200) × 100 = <mark class="highlight-green">14%</mark>.</p>
        </div>
      </div>
    </div>

    <!-- Practice Exercise -->
    <div style="background: rgba(245,158,11,0.1); padding: 20px; border-radius: 14px; margin-top: 20px; border: 2px dashed var(--color-ai);">
      <h4 style="color: var(--color-ai);">🎯 Practice Arena</h4>
      <p>
        <strong>Simulation Exercise:</strong> If you have a cumulative table showing ages of 150 people, and the cumulative frequency for the class (20 to less than 30) is 45, calculate:
      </p>
      <ul>
        <li>The percentage of people whose ages are less than 30</li>
        <li>If the cumulative frequency for the class (30 to less than 40) is 90, how many people are aged between 30 and 40?</li>
      </ul>
    </div>
  </div>

  <!-- 🌿 Stem-and-Leaf Display -->
  <div class="glassy-card">
    <h2>🌿 Stem-and-Leaf Display</h2>
    
    <p>
      Now let's move to another method of organizing data—a very visual and smart approach called <mark class="highlight-green">Stem-and-Leaf Display</mark>. This method preserves the original data (unlike frequency distribution which groups values), while organizing it visually.
    </p>

    <h3>📖 Official Definition</h3>
    <p style="background: rgba(255,255,255,0.3); padding: 20px; border-radius: 14px;">
      Stem-and-leaf display is a statistical technique to present a set of data. Each numerical value is divided into two parts. The <mark class="highlight-blue">leading digit(s)</mark> becomes the <strong>stem</strong> and the <mark class="highlight-orange">trailing digit</mark> the <strong>leaf</strong>. The stems are located along the vertical axis, and the leaf values are stacked against each other along the horizontal axis.
    </p>

    <h3 style="margin-top: 25px;">🔧 How to Build</h3>
    <p>Let's understand with an example. If you have the following data:</p>
    <p style="background: rgba(22,163,74,0.1); padding: 15px; border-radius: 12px;">
      <strong>91, 85, 84, 79, 80, 76, 90, 99, 104, 108, 123, 100, 75, 93, 77, 95, 110, 95, 103, 100, 112, 109, 96, 90, 105, 71, 98, 89, 98, 90, 90, 94, 86, 80, 63</strong>
    </p>

    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span>Click here to view construction steps</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>Steps:</h4>
          <ol>
            <li><strong>Identify largest and smallest values:</strong> Smallest = 63, Largest = 123</li>
            <li><strong>Calculate the range:</strong> Range = 123 - 63 = 60</li>
            <li><strong>Divide smallest value:</strong> 63 → Stem 6, Leaf 3</li>
            <li><strong>Divide largest value:</strong> 123 → Stem 12, Leaf 3</li>
            <li><strong>Write stems from 6 to 12</strong> without gaps</li>
            <li><strong>For each value:</strong> Place the leaf (last digit) next to the appropriate stem</li>
          </ol>

          <h4 style="margin-top: 20px;">Final Form:</h4>
          <pre style="background: rgba(255,255,255,0.4); padding: 20px; border-radius: 12px; font-family: 'Courier New', monospace; border: 2px solid rgba(22,163,74,0.3); overflow-x: auto;">
Stem | Leaf
-----|-------------------------
  6  | 3
  7  | 1 5 6 7 9
  8  | 0 0 4 5 6 9
  9  | 0 0 0 0 1 3 4 5 5 6 8 8 9
 10  | 0 0 3 4 5 8 9
 11  | 0 2
 12  | 3
          </pre>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ Note:</mark> The leaves (numbers on the right) give you an idea about the data distribution—you can see which class has the most values (row 9 has 13 leaves!), and which has few values (row 6 has only one leaf).
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🎬 Practical Case 3: Stem-and-Leaf Exercise -->
  <div class="glassy-card">
    <h2>🎬 Practical Case 3: Comprehensive Stem-and-Leaf Exercise</h2>
    
    <h3>📋 The Problem</h3>
    <p>The following table shows the number of movies rented per day at a video rental store:</p>

    <pre style="background: rgba(255,255,255,0.4); padding: 20px; border-radius: 12px; font-family: 'Courier New', monospace; border: 2px solid rgba(22,163,74,0.3); overflow-x: auto;">
Stem | Leaf
-----|-------------------------
  8  | 8
  9  | 4 7
 10  | 0 5
 11  | 3 6 6 7 7 8 9
 12  | 2 2 3 4 5 9
 13  | 0 1 5 6 7 8
 14  | 2 8
 15  | 5
    </pre>

    <h4>Questions:</h4>

    <!-- Question a -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question a:</strong> How many days were studied?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> Count all leaves (each number on the right):</p>
          <ul>
            <li>Stem 8: 1 leaf</li>
            <li>Stem 9: 2 leaves</li>
            <li>Stem 10: 2 leaves</li>
            <li>Stem 11: 7 leaves</li>
            <li>Stem 12: 6 leaves</li>
            <li>Stem 13: 6 leaves</li>
            <li>Stem 14: 2 leaves</li>
            <li>Stem 15: 1 leaf</li>
          </ul>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px; margin-top: 10px;">
            <strong>Total:</strong> 1 + 2 + 2 + 7 + 6 + 6 + 2 + 1 = <mark class="highlight-green">27 days</mark>
          </p>
        </div>
      </div>
    </div>

    <!-- Question b -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question b:</strong> How many observations are in the last class (last row)?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> The last stem is 15, and it has <mark class="highlight-green">one leaf</mark> only (the number 5).</p>
          <p><strong>Answer:</strong> One observation</p>
        </div>
      </div>
    </div>

    <!-- Question c -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question c:</strong> What are the largest and smallest values in the entire set of data?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong></p>
          <ul>
            <li><strong>Smallest value:</strong> First stem (8) + first leaf in it (8) = <mark class="highlight-green">88</mark></li>
            <li><strong>Largest value:</strong> Last stem (15) + last leaf in it (5) = <mark class="highlight-green">155</mark></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Question d -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question d:</strong> List the actual values in the fourth row.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> The fourth row is stem 11, and the leaves are: 3, 6, 6, 7, 7, 8, 9</p>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px;">
            <strong>Actual values:</strong> <mark class="highlight-green">113, 116, 116, 117, 117, 118, 119</mark>
          </p>
        </div>
      </div>
    </div>

    <!-- Question e -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question e:</strong> On how many days were less than 160 movies rented?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> Count all leaves in stems less than 16 (i.e., from 8 to 15):</p>
          <p><strong>Total:</strong> All leaves = <mark class="highlight-green">27 days</mark> (because the largest value is 155, which is less than 160)</p>
        </div>
      </div>
    </div>

    <!-- Question f -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question f:</strong> What is the middle value (median)?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> Arrange all values and choose the middle. Number of days = 27 (odd)</p>
          <p>Middle value = Value number (27 + 1) ÷ 2 = Value number 14</p>
          <p>By ordering values from the table, value number 14 = <mark class="highlight-green">124</mark></p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🏢 Practical Case 4: Oil Change Company -->
  <div class="glassy-card">
    <h2>🏢 Practical Case 4: Oil Change Company</h2>
    
    <h3>📋 The Problem</h3>
    <p style="background: rgba(22,163,74,0.1); padding: 20px; border-radius: 14px; border-left: 4px solid var(--color-primary);">
      The quick-change oil company has several outlets in the metropolitan Seattle area. The number of oil changes at the Oak Street outlet in the past 20 days were:<br>
      <strong>65, 98, 55, 62, 79, 59, 51, 90, 72, 56, 70, 62, 66, 80, 94, 79, 63, 73, 71, 85</strong>
    </p>

    <h4>Questions:</h4>

    <!-- Question a -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question a:</strong> How many classes would you recommend?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> General rule: If the number of observations is 20, we can choose <mark class="highlight-green">5 or 6 classes</mark>.</p>
          <p><strong>Recommendation:</strong> 5 classes (convenient number to work with)</p>
        </div>
      </div>
    </div>

    <!-- Question b -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question b:</strong> What class interval would you suggest?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong></p>
          <ul>
            <li>Largest value = 98</li>
            <li>Smallest value = 51</li>
            <li>Range = 98 - 51 = 47</li>
            <li>Class width = 47 ÷ 5 ≈ 9.4</li>
          </ul>
          <p style="background: rgba(22,163,74,0.15); padding: 12px; border-radius: 8px;">
            <strong>Recommendation:</strong> Class width = <mark class="highlight-green">10</mark> (round to a convenient number)
          </p>
        </div>
      </div>
    </div>

    <!-- Question c -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question c:</strong> What lower limit would you recommend for the first class?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Solution:</strong> Choose a number less than or equal to the smallest observation (51), preferably a "convenient" number.</p>
          <p><strong>Recommendation:</strong> <mark class="highlight-green">50</mark> (round, easy number)</p>
        </div>
      </div>
    </div>

    <!-- Question d -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Question d:</strong> Organize the number of oil changes into a frequency distribution.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <h4>Proposed Table:</h4>
          
          <div class="table-container">
            <table class="concepts-table">
              <thead>
                <tr>
                  <th>Class</th>
                  <th>Frequency</th>
                  <th>Midpoint</th>
                  <th>Relative Frequency</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>50 - 60</td>
                  <td>4</td>
                  <td>55</td>
                  <td>0.20</td>
                </tr>
                <tr>
                  <td>60 - 70</td>
                  <td>5</td>
                  <td>65</td>
                  <td>0.25</td>
                </tr>
                <tr>
                  <td>70 - 80</td>
                  <td>6</td>
                  <td>75</td>
                  <td>0.30</td>
                </tr>
                <tr>
                  <td>80 - 90</td>
                  <td>3</td>
                  <td>85</td>
                  <td>0.15</td>
                </tr>
                <tr>
                  <td>90 - 100</td>
                  <td>2</td>
                  <td>95</td>
                  <td>0.10</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p style="margin-top: 15px;">
            <mark class="highlight-green">✅ Verification:</mark> Sum of frequencies = 20, sum of relative frequencies = 1.00
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 🎯 Potential Exam Questions -->
  <div class="glassy-card">
    <h2>🎯 Potential Exam Questions</h2>

    <!-- Essay Question 1 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Essay Question 1:</strong> Explain the difference between regular frequency distribution and cumulative frequency distribution, with practical use for each.</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Expected Answer:</strong></p>
          <p>
            <mark class="highlight-blue">Regular frequency distribution</mark> displays the number of observations in each class separately, while <mark class="highlight-green">cumulative frequency distribution</mark> sums all frequencies from the beginning to the current class.
          </p>
          <p><strong>Practical Use:</strong></p>
          <ul>
            <li><strong>Regular:</strong> Suitable for knowing the distribution within each class—e.g., "How many students scored between 80 and 90?"</li>
            <li><strong>Cumulative:</strong> Suitable for knowing "how many up to this point" or "how many above this point"—e.g., "How many students scored less than 80?" or "How many students scored 90 or more?"</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Essay Question 2 -->
    <div class="question-container" onclick="toggleQuestion(this)">
      <div class="question-header">
        <span><strong>Essay Question 2:</strong> What are the advantages of using stem-and-leaf display compared to frequency distribution table?</span>
      </div>
      <div class="question-content">
        <div class="solution-content">
          <p><strong>Expected Answer:</strong></p>
          <p><strong>Advantages of Stem-and-Leaf Display:</strong></p>
          <ul>
            <li><mark class="highlight-green">Preserves original data:</mark> You can see each value individually, while frequency distribution groups values into classes</li>
            <li><mark class="highlight-blue">Easy quick construction:</mark> Doesn't need complex calculations—just divide the numbers</li>
            <li><mark class="highlight-orange">Visual and intuitive:</mark> Shows the distribution shape directly without graphing</li>
            <li><mark class="highlight-pink">Suitable for small data:</mark> Works excellently with 20-50 observations</li>
          </ul>
          <p><strong>When to use frequency distribution instead?</strong> When data is very large (100+ observations) or when we want precise calculations for relative and cumulative frequencies.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 📊 Comprehensive Concepts Table -->
  <div class="glassy-card">
    <h2>📊 Key Concepts Table</h2>
    
    <div class="table-container">
      <table class="concepts-table">
        <thead>
          <tr>
            <th>Concept</th>
            <th>Official Definition</th>
            <th>The Gist</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Frequency Distribution</strong></td>
            <td>A tool to organize quantitative data into classes and count how many values in each class</td>
            <td>Organize Data</td>
          </tr>
          <tr>
            <td><strong>Class</strong></td>
            <td>A group of similar values grouped together</td>
            <td>Value Group</td>
          </tr>
          <tr>
            <td><strong>Frequency</strong></td>
            <td>The number of observations that fall in each class</td>
            <td>Count Observations</td>
          </tr>
          <tr>
            <td><strong>Class Width</strong></td>
            <td>The difference between the lower limit of a class and the lower limit of the next class</td>
            <td>Difference Between Limits</td>
          </tr>
          <tr>
            <td><strong>Number of Classes</strong></td>
            <td>How many classes we will divide the data into</td>
            <td>Number of Groups</td>
          </tr>
          <tr>
            <td><strong>Class Midpoint</strong></td>
            <td>The arithmetic mean of the lower limit of the class and the lower limit of the next class</td>
            <td>Average of Limits</td>
          </tr>
          <tr>
            <td><strong>Relative Frequency</strong></td>
            <td>The ratio of the frequency of each class to the total</td>
            <td>Frequency Ratio</td>
          </tr>
          <tr>
            <td><strong>Cumulative Frequency</strong></td>
            <td>The sum of frequencies from the first class to the current class</td>
            <td>Cumulative Sum</td>
          </tr>
          <tr>
            <td><strong>Stem-and-Leaf Display</strong></td>
            <td>A technique to organize data by dividing each value into a stem (leading digits) and a leaf (trailing digit)</td>
            <td>Visual Division</td>
          </tr>
          <tr>
            <td><strong>Range</strong></td>
            <td>The difference between the largest and smallest values in the data</td>
            <td>Maximum Difference</td>
          </tr>
          <tr>
            <td><strong>Sample Size</strong></td>
            <td>The total number of observations in the data</td>
            <td>Total Observations</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- 📌 Closing Note -->
  <div class="footer-info">
    <div class="footer-brand">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
      </svg>
      <span>Athr Educational Platform</span>
    </div>
    <div class="footer-divider"></div>
    <p class="footer-disclaimer">
      This educational content was designed by <strong>Athr AI</strong> in a professional interactive style. All concepts and formulas are consistent with the original academic curriculum.
    </p>
  </div>
</div>

     
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const translationButton = document.getElementById('translationButton');
      const translationText = document.querySelector('.translation-text');
      const arabicContent = document.getElementById('arabicContent');
      const englishContent = document.getElementById('englishContent');
      const html = document.documentElement;
      const body = document.body;
      
      const aiChatButton = document.getElementById('aiChatButton');
      const aiChatModal = document.getElementById('aiChatModal');
      const aiChatCloseBtn = document.getElementById('aiChatCloseBtn');
      const aiChatMessages = document.getElementById('aiChatMessages');
      const aiChatInput = document.getElementById('ai-chat-input');
      const aiChatSendBtn = document.getElementById('ai-chat-send-btn');
      const aiChatTitle = document.getElementById('ai-chat-title');
      const aiChatButtonText = document.getElementById('aiFabText');
      
      let isArabic = true;
      let isFirstMessage = true;
      let conversationHistory = [];

      function showTypingIndicator(show) {
        const existingIndicator = aiChatMessages.querySelector('.typing-indicator');
        if (existingIndicator) existingIndicator.remove();
        
        if (show) {
          const indicatorElement = document.createElement('div');
          indicatorElement.classList.add('chat-message', 'ai-message', 'typing-indicator');
          indicatorElement.innerHTML = '<span>أثر AI يكتب الآن</span><span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>';
          aiChatMessages.appendChild(indicatorElement);
          aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
        }
      }

      function addMessage(text, sender) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('chat-message', `${sender}-message`);
        messageElement.innerHTML = marked.parse(text);
        aiChatMessages.appendChild(messageElement);
        aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
      }
      
      function applyLanguage(arabic) {
        isArabic = arabic;
        const lang = isArabic ? 'ar' : 'en';
        const dir = isArabic ? 'rtl' : 'ltr';
        
        html.setAttribute('lang', lang);
        html.setAttribute('dir', dir);
        body.setAttribute('dir', dir);
        
        arabicContent.classList.toggle('hidden', !isArabic);
        englishContent.classList.toggle('hidden', isArabic);
        
        translationText.textContent = isArabic ? 'English' : 'العربية';
        document.title = isArabic ? 'منصة أثر التعليمية' : 'Athr Educational Platform';
        
        aiChatTitle.textContent = isArabic ? 'اسأل أثر AI' : 'Ask Athr AI';
        aiChatInput.placeholder = isArabic ? 'اكتب سؤالك هنا...' : 'Type your question here...';
        aiChatButtonText.textContent = isArabic ? 'أثر AI' : 'Athr AI';
      }
      
      translationButton.addEventListener('click', function() {
        applyLanguage(!isArabic);
      });

      aiChatButton.addEventListener('click', function() {
        aiChatModal.classList.add('visible');
        
        if (isFirstMessage) {
          const welcomeMsg = isArabic 
            ? "مرحباً! أنا **أثر AI**، مساعدك الدراسي الذكي. سأساعدك في فهم محتوى هذا الدرس بطريقة سهلة وممتعة. اسألني أي شيء عن المحتوى!"
            : "Hello! I'm **Athr AI**, your intelligent study assistant. I'll help you understand this lesson content in an easy and fun way. Ask me anything about the content!";
          addMessage(welcomeMsg, 'ai');
          isFirstMessage = false;
        }
        
        aiChatInput.focus();
      });

      aiChatCloseBtn.addEventListener('click', function() {
        aiChatModal.classList.remove('visible');
      });

      aiChatModal.addEventListener('click', function(e) {
        if (e.target === aiChatModal) {
          aiChatModal.classList.remove('visible');
        }
      });

      async function sendMessage() {
        const userMessage = aiChatInput.value.trim();
        if (!userMessage) return;

        addMessage(userMessage, 'user');
        conversationHistory.push({ role: 'user', content: userMessage });
        
        aiChatInput.value = '';
        aiChatInput.disabled = true;
        aiChatSendBtn.disabled = true;
        
        showTypingIndicator(true);

        try {
          const lectureContext = arabicContent.innerText || '';
          
          const response = await fetch('/askAI', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              conversationHistory: conversationHistory,
              context: lectureContext
            })
          });

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          const data = await response.json();
          showTypingIndicator(false);

          if (data.reply) {
            addMessage(data.reply, 'ai');
            conversationHistory.push({ role: 'assistant', content: data.reply });
          } else {
            throw new Error('No reply from AI');
          }

        } catch (error) {
          console.error('Error:', error);
          showTypingIndicator(false);
          
          const errorMsg = isArabic
            ? "عذراً، حدث خطأ في الاتصال. يرجى المحاولة مرة أخرى."
            : "Sorry, a connection error occurred. Please try again.";
          addMessage(errorMsg, 'ai');
        } finally {
          aiChatInput.disabled = false;
          aiChatSendBtn.disabled = false;
          aiChatInput.focus();
        }
      }

      aiChatSendBtn.addEventListener('click', sendMessage);
      aiChatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      // Question Toggle Function
      window.toggleQuestion = function(element) {
        const content = element.querySelector('.question-content');
        element.classList.toggle('open');
        content.classList.toggle('show');
        
        if (content.classList.contains('show')) {
          setTimeout(() => {
            content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }, 300);
        }
      };

      // MCQ Selection Function
      window.selectMCQ = function(element, isCorrect) {
        const options = element.parentNode.querySelectorAll('.mcq-option');
        
        options.forEach(option => {
          option.style.pointerEvents = 'none';
          option.classList.remove('selected', 'correct', 'incorrect');
        });
        
        element.classList.add('selected');
        
        setTimeout(() => {
          if (isCorrect) {
            element.classList.add('correct');
            element.innerHTML += ' ✓';
          } else {
            element.classList.add('incorrect');
            element.innerHTML += ' ✗';
            
            options.forEach(option => {
              const onclick = option.getAttribute('onclick');
              if (onclick && onclick.includes('true')) {
                option.classList.add('correct');
                option.innerHTML += ' ✓';
              }
            });
          }
        }, 500);
      };
    });
  </script>
</body>
</html>
